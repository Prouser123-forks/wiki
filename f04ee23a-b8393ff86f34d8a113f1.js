/*! For license information please see f04ee23a-b8393ff86f34d8a113f1.js.LICENSE.txt */
(self.webpackChunkgenoswitch=self.webpackChunkgenoswitch||[]).push([[182],{3709:function(e,t,n){var r;r=()=>(()=>{"use strict";var e=[function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewer=t.Enzymes=t.Circular=t.Linear=t.SeqViz=void 0;var a=n(1),o=n(2),i=n(3),c=n(4);t.Circular=c.default;var s=n(10);t.Linear=s.default;var l=n(35);t.SeqViz=l.default;var u=n(38);t.Enzymes=u.default,t.default=l.default,t.Viewer=function(e,t){void 0===e&&(e="root");var n,c=!1;if(document){if("string"==typeof e){if(!document.getElementById(e))throw new Error("Failed to find an element with ID: ".concat(e));n=document.getElementById(e)}else n=e;var s=a.createElement(l.default,t,null);return{render:function(){return c=!0,o.render(s,n),s},renderToString:function(){return(0,i.renderToString)(s)},setState:function(e){return t=r(r({},t),e),s=a.createElement(l.default,t,null),c&&o.render(s,n),s}}}}},e=>{e.exports=n(817)},e=>{e.exports=n(817)},e=>{e.exports=n(9927)},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Arc=t.RENDER_SEQ_LENGTH_CUTOFF=void 0;var i=n(1),c=n(5),s=n(8),l=n(11),u=n(12),f=n(15),h=n(28),d=n(29),p=n(30),m=n(31),g=n(32),v=n(34);t.RENDER_SEQ_LENGTH_CUTOFF=250;var N=function(e){function t(t){var n=e.call(this,t)||this;return n.shouldComponentUpdate=function(e){return!(0,u.isEqual)(e,n.props)},n.getRotation=function(e){var t=n.props.center,r=n.state.seqLength,a=n.context.circular;return"rotate(".concat((e-a)/r*360||0,", ").concat(t.x,", ").concat(t.y,")")},n.findCoor=function(e,t,r){var a=n.props.center,o=n.state.seqLength,i=((r?e-n.context.circular:e)/o-.25)*Math.PI*2,c=Math.cos(i)*t,s=Math.sin(i)*t;return{x:a.x+c,y:a.y+s}},n.rotateCoor=function(e,t){var r=n.props.center,a=t*(Math.PI/180),o=Math.cos(a),i=Math.sin(a),c=e.x-r.x,s=e.y-r.y,l=o*c-i*s,u=i*c+o*s;return{x:r.x+l,y:r.y+u}},n.genArc=function(e){var t=e.arrowFWD,r=e.arrowREV,a=e.innerRadius,o=e.largeArc,i=e.length,c=e.outerRadius,s=e.sweepFWD,l=n.props.radius,u=n.state,f=u.lineHeight,h=u.seqLength,d=void 0===e.offset?0:e.offset,p=n.findCoor(d,a),m=n.findCoor(d,c),g=n.findCoor(i+d,a),v=n.findCoor(i+d,c),N="",C="";if(r||t){var y=f/4/l,A=360*Math.min(y/2,i/h);if(r){p=n.rotateCoor(p,A),m=n.rotateCoor(m,A);var G=n.findCoor(0,(a+c)/2);N="L ".concat(G.x," ").concat(G.y)}else{g=n.rotateCoor(g,-A),v=n.rotateCoor(v,-A);var b=n.findCoor(i,(a+c)/2);C="L ".concat(b.x," ").concat(b.y)}}var T=o?1:0,w=s?1:0,q=s?0:1;return"M ".concat(g.x," ").concat(g.y,"\n      A ").concat(a," ").concat(a,", 0, ").concat(T,", ").concat(q,", ").concat(p.x," ").concat(p.y,"\n      L ").concat(p.x," ").concat(p.y,"\n      ").concat(N,"\n      L ").concat(m.x," ").concat(m.y,"\n      A ").concat(c," ").concat(c,", 0, ").concat(T,", ").concat(w,", ").concat(v.x," ").concat(v.y,"\n      ").concat(C,"\n      Z")},n.handleScrollEvent=function(e){var t=n.props,r=t.rotateOnScroll,a=t.seq;if(r){var o=a.length*(e.deltaY/5e3);0===(o=Math.floor(o))&&(o=e.deltaY>0?1:-1);var i=n.context.circular+o;i=(i+a.length)%a.length,n.context.setCentralIndex("CIRCULAR",i)}},n.state={annotationsInRows:[],inlinedLabels:[],lineHeight:0,outerLabels:[],seqLength:0},n}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.center,n=e.compSeq,r=e.cutSites,a=e.handleMouseEvent,c=e.inputRef,s=e.name,l=e.radius,u=e.search,N=e.seq,C=e.showComplement,y=e.showIndex,A=e.size,G=e.yDiff,b=this.state,T=b.annotationsInRows,w=b.inlinedLabels,q=b.lineHeight,x=b.outerLabels,I=b.seqLength,E=this,S={center:t,findCoor:E.findCoor,genArc:E.genArc,getRotation:E.getRotation,inputRef:c,lineHeight:q,radius:l,rotateCoor:E.rotateCoor,seqLength:I},_=4+T.length,R="la-vz-".concat(s,"-viewer-circular");return A.height?i.createElement("svg",{ref:c(R,{type:"SEQ",viewer:"CIRCULAR"}),className:"la-vz-viewer-circular","data-testid":"la-vz-viewer-circular",height:A.height,id:R,overflow:"visible",style:f.viewerCircular,width:A.width>=0?A.width:0,onMouseDown:a,onMouseMove:a,onMouseUp:a,onWheel:this.handleScrollEvent},i.createElement("g",{className:"la-vz-circular-root",transform:"translate(0, ".concat(G,")")},i.createElement(v.Selection,o({},S,{seq:N,totalRows:_})),i.createElement(d.CutSites,o({},S,{cutSites:r,selectionRows:4})),i.createElement(m.Index,o({},S,{compSeq:n,name:s,seq:N,showComplement:C,showIndex:y,size:A,totalRows:_,yDiff:G})),i.createElement(p.Find,{genArc:S.genArc,getRotation:S.getRotation,highlights:this.props.highlights,inputRef:S.inputRef,lineHeight:S.lineHeight,radius:S.radius,search:u,seqLength:S.seqLength}),i.createElement(h.Annotations,o({},S,{annotations:T,inlinedAnnotations:w,rowsToSkip:0})),i.createElement(g.Labels,o({},S,{labels:x,size:A,yDiff:G})))):null},t.contextType=s.default,t.getDerivedStateFromProps=function(e){var t=(0,l.stackElements)(e.annotations,e.seq.length),n=e.seq.length,r=e.cutSites,a=e.radius-42,i=[],s=[];return t.forEach((function(e){var t=a*Math.PI;e.forEach((function(e){var r=(e.name.length+2)*c.CHAR_WIDTH,a=e.end-e.start;if(e.start>=e.end&&(a+=n),r<2*t*(a/n))i.push(e.id);else{var o=e.end,l=e.id,u=e.name,f=e.start;s.push({end:o,id:l,name:u,start:f,type:"annotation"})}})),a-=14})),r.forEach((function(e){return s.push(o(o(o({},e.enzyme),e),{start:e.fcut,type:"enzyme"}))})),s.sort((function(e,t){return Math.min(e.start,e.end)-Math.min(t.start,t.end)})),{annotationsInRows:t,inlinedLabels:i,lineHeight:14,outerLabels:s,seqLength:e.seq.length}},t}(i.Component);t.default=N,t.Arc=function(e){var t=e.className,n=e.color,r=e.direction,a=e.genArc,o=e.getRotation,c=e.inputRef,s=e.lineHeight,l=e.radius,u=e.seqLength,f=e.start,h=e.style,d=e.end;d<f&&(d+=u);var p=Math.abs(d-f),m=a({innerRadius:l-s/2,largeArc:p>u/2,length:p,outerRadius:l+s/2,sweepFWD:!0}),g="circular-".concat(f,"-").concat(d,"-").concat(r);return i.createElement("path",{key:g,ref:c(g,{end:d,ref:g,start:f,type:"FIND",viewer:"CIRCULAR"}),className:t,cursor:"pointer",d:m,fill:n,id:g,shapeRendering:"auto",stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:h,transform:o(f)})}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR_WIDTH=void 0;var c=n(1),s=n(6),l=n(4),u=n(7),f=n(10),h=n(27),d=n(8),p=n(12),m=n(25);t.CHAR_WIDTH=7.2;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.shouldComponentUpdate=function(e,t){return!(0,p.isEqual)(e,n.props)||!(0,p.isEqual)(t,n.state)},n.setCentralIndex=function(e,t){var r;if("LINEAR"!==e&&"CIRCULAR"!==e)throw new Error("Unknown central index type: ".concat(e));n.state.centralIndex[e.toLowerCase()]!==t&&n.setState({centralIndex:o(o({},n.state.centralIndex),(r={},r[e.toLowerCase()]=t,r))})},n.setSelection=function(e){e.parent,e.ref;var t=i(e,["parent","ref"]);n.props.selection||n.setState({selection:e}),n.props.onSelection&&n.props.onSelection(t)},n.getSelection=function(e,t){return t?o(o({},t),{clockwise:void 0===t.clockwise||!!t.clockwise,type:""}):e},n.linearProps=function(){var e,t,r=n.props,a=r.seq,i=r.seqType,c=r.viewer,s=n.props.testSize||{height:n.props.height,width:n.props.width},l=n.props.zoom.linear;(null===(t=null===(e=n.props.refs)||void 0===e?void 0:e.linear)||void 0===t?void 0:t.current)&&n.props.children?(s.width=n.props.refs.linear.current.clientWidth,s.height=n.props.refs.linear.current.clientHeight):c.includes("both")&&(s.width/=2);var u=Math.min(Math.round(.1*l+9.5),18),f=Math.round(s.width/u*1.4)||1;"aa"===i&&(f=Math.round(f/3)),l<=5?f*=3:l<=10?f*=2:l>70&&(f=Math.round(f*(70/l))),f=Math.max(1,f),s.width&&f<a.length&&(s.width-=28);var h=s.width/f,d=1.4*u;return o(o({},n.props),{bpsPerBlock:f,charWidth:h,elementHeight:16,lineHeight:d,seqFontSize:u,size:s,zoom:{linear:l}})},n.circularProps=function(){var e,t,r=n.props,a=r.seq.length,i=r.viewer,c=n.props.testSize||{height:n.props.height,width:n.props.width},s=n.props.zoom.circular;(null===(t=null===(e=n.props.refs)||void 0===e?void 0:e.circular)||void 0===t?void 0:t.current)?(c.width=n.props.refs.circular.current.clientWidth,c.height=n.props.refs.circular.current.clientHeight):i.includes("both")&&(c.width/=2);var l={x:c.width/2,y:c.height/2},u=Math.min(c.height,c.width),f=a*Math.exp(Math.log(50/a)/-Math.pow(100,.83)),h=.34*u;return o(o({},n.props),{bpsOnArc:f,center:l,radius:0===h?1:h,size:c,yDiff:0,zoom:{circular:s}})},n.state={centralIndex:{circular:0,linear:0,setCentralIndex:n.setCentralIndex},selection:n.getSelection(m.defaultSelection,t.selection)},n}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.selection,r=t.seq,a=t.viewer,i=this.state,s=i.centralIndex,p=i.selection,g=this.linearProps(),v=this.circularProps(),N=this.getSelection(p,n);return c.createElement("div",{ref:this.props.targetRef,className:"la-vz-viewer-container","data-testid":"la-vz-viewer-container",style:{height:"100%",position:"relative",width:"100%"}},c.createElement(d.default.Provider,{value:s},c.createElement(m.default.Provider,{value:N},c.createElement(h.default,{bpsPerBlock:g.bpsPerBlock,center:v.center,centralIndex:s.circular,seq:r,setCentralIndex:this.setCentralIndex,setSelection:this.setSelection,yDiff:v.yDiff},(function(t,n,i){return c.createElement(u.EventHandler,{bpsPerBlock:g.bpsPerBlock,copyEvent:e.props.copyEvent,handleMouseEvent:n,selectAllEvent:e.props.selectAllEvent,selection:N,seq:r,setSelection:e.setSelection},e.props.children?e.props.children({circularProps:v,handleMouseEvent:n,inputRef:t,linearProps:g,onUnmount:i}):c.createElement(c.Fragment,null,"linear"===a&&c.createElement(f.default,o({},g,{handleMouseEvent:n,inputRef:t,onUnmount:i})),"circular"===a&&c.createElement(l.default,o({},v,{handleMouseEvent:n,inputRef:t,onUnmount:i})),"both"===a&&c.createElement(c.Fragment,null,c.createElement(l.default,o({},v,{handleMouseEvent:n,inputRef:t,onUnmount:i})),c.createElement(f.default,o({},g,{handleMouseEvent:n,inputRef:t,onUnmount:i}))),"both_flip"===a&&c.createElement(c.Fragment,null,c.createElement(f.default,o({},g,{handleMouseEvent:n,inputRef:t,onUnmount:i})),c.createElement(l.default,o({},v,{handleMouseEvent:n,inputRef:t,onUnmount:i})))))})))))},t}(c.Component);t.default=(0,s.withResizeDetector)(g)},e=>{e.exports=n(7657)},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=void 0;var s=n(1),l=n(8),u=n(9),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickedOnce=null,t.clickedTwice=null,t.handleKeyPress=function(e){var n=t.keypressMap(e);n&&(e.preventDefault(),t.handleSeqInteraction(n))},t.keypressMap=function(e){var n=t.props,r=n.copyEvent,a=n.selectAllEvent;if(r&&r(e))return"Copy";if(a&&a(e))return"SelectAll";var o=e.key,i=e.shiftKey;switch(o){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return i?"Shift".concat(o):o;default:return null}},t.handleSeqInteraction=function(e){return i(t,void 0,void 0,(function(){var t,n,r,a,o,i,s,l,u,f,h;return c(this,(function(c){switch(t=this.props.seq,n=t.length,r=this.props.bpsPerBlock||1,e){case"SelectAll":this.selectAllHotkey();break;case"Copy":this.handleCopy();break;case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"ShiftArrowUp":case"ShiftArrowRight":case"ShiftArrowDown":case"ShiftArrowLeft":if(a=this.props,o=a.selection,i=a.setSelection,s=o.end,void 0===(l=o.start)||void 0===s)return[2];u=o.clockwise,f=s,"ArrowUp"===e||"ShiftArrowUp"===e?f-=n/r>1?r:1:"ArrowRight"===e||"ShiftArrowRight"===e?f+=1:"ArrowDown"===e||"ShiftArrowDown"===e?f+=n/r>1?r:1:"ArrowLeft"!==e&&"ShiftArrowLeft"!==e||(f-=1),f<=-1&&(f=n+f),f>=n+1&&(f-=n),h=Math.abs(l-s),u=0===h?"ArrowRight"===e||"ShiftArrowRight"===e||"ArrowDown"===e||"ShiftArrowDown"===e:u,f===l||e.startsWith("Shift")?e.startsWith("Shift")&&i({clockwise:u,end:f,start:l,type:"SEQ"}):i({clockwise:!0,end:f,start:f,type:"SEQ"})}return[2]}))}))},t.handleCopy=function(){var e=t.props,n=e.selection,r=n.end,a=n.ref,o=n.start,i=e.seq;if(document){var c=document.activeElement,s=document.createElement("textarea");s.innerText="ALL"===a?i:i.substring(o||0,r),document.body&&document.body.appendChild(s),s.select(),document.execCommand("copy"),s.remove(),c&&c.focus()}},t.selectAllHotkey=function(){var e=t.props,n=e.selection,r=e.seq;(0,e.setSelection)(o(o({},n),{clockwise:!0,end:r.length,start:0}))},t.handleTripleClick=function(){t.selectAllHotkey()},t.resetClicked=(0,u.default)((function(){t.clickedOnce=null,t.clickedTwice=null}),250),t.handleMouseEvent=function(e){var n=t.props.handleMouseEvent;"mouseup"===e.type&&(t.resetClicked(),t.clickedOnce===e.target&&t.clickedTwice===e.target?(t.handleTripleClick(),t.resetClicked()):t.clickedOnce===e.target&&null===t.clickedTwice?(t.clickedOnce=e.target,t.clickedTwice=e.target,t.resetClicked()):(t.clickedOnce=e.target,t.resetClicked()));var r=e.button,a=e.ctrlKey,o="mousedown"===e.type&&0===r&&a;0!==e.button||o||n(e)},t.render=function(){return s.createElement("div",{className:"la-vz-viewer-event-router",id:"la-vz-event-router",role:"presentation",style:{display:"flex",flexDirection:"row",height:"100%",outline:"none",position:"absolute",width:"100%"},tabIndex:-1,onKeyDown:t.handleKeyPress,onMouseDown:t.handleMouseEvent,onMouseMove:t.props.handleMouseEvent,onMouseUp:t.handleMouseEvent},t.props.children)},t}return a(t,e),t.contextType=l.default,t}(s.PureComponent);t.EventHandler=f},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(1).createContext({circular:0,linear:0,setCentralIndex:function(e,t){}});r.displayName="CentralIndexContext",t.default=r},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r;return void 0===n&&(n=!0),function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var i=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(this,a)}),t),i&&e.apply(this,a)}}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(11),c=n(12),s=n(13),l=n(14),u=n(16),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldComponentUpdate=function(e){return!(0,c.isEqual)(e,t.props)},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.annotations,n=e.bpsPerBlock,r=e.compSeq,a=e.cutSites,c=e.elementHeight,f=e.highlights,h=e.lineHeight,d=e.onUnmount,p=e.search,m=e.seq,g=e.seqType,v=e.showComplement,N=e.showIndex,C=e.size,y=e.translations,A=e.zoom,G=A.linear>10,b=m.length,T=Math.round(Math.ceil(b/n));T===Number.POSITIVE_INFINITY&&(T=1);for(var w=new Array(T),q=new Array(T),x=new Array(T),I=new Array(T),E=a.length?(0,i.createSingleRows)(a,n,T):new Array(T).fill([]),S=(0,i.createMultiRows)((0,i.stackElements)(function(e){return e.forEach((function(e){0===e.end&&e.start>e.end&&(e.end=b),e.start===b&&e.end<e.start&&(e.start=0)})),e}(t),m.length),n,T),_=p&&p.length?(0,i.createSingleRows)(p,n,T):new Array(T).fill([]),R=(0,i.createSingleRows)(f,n,T),O=y.length?(0,i.createMultiRows)((0,i.stackElements)((0,s.createTranslations)(y,m,g),m.length),n,T):new Array(T).fill([]),M=0;M<T;M+=1){var B=(P=M*n)+n;q[M]=m.substring(P,B),x[M]=r.substring(P,B),w[M]=q[M]+String(M);var k=1.1*h;"aa"!=g&&(k+=h),G&&(k+=v?h:0),N&&(k+=h),O[M].length&&(k+=O[M].length*c),S[M].length&&(k+=S[M].length*c),E[M].length&&(k+=h),I[M]=k}var L=[],H=0;for(M=0;M<T;M+=1){var P=M*n;L.push(o.createElement(u.SeqBlock,{key:w[M],annotationRows:S[M],blockHeight:I[M],bpColors:this.props.bpColors,bpsPerBlock:n,charWidth:this.props.charWidth,compSeq:x[M],cutSiteRows:E[M],elementHeight:c,firstBase:P,fullSeq:m,handleMouseEvent:this.props.handleMouseEvent,highlights:R[M],id:w[M],inputRef:this.props.inputRef,lineHeight:h,searchRows:_[M],seq:q[M],seqFontSize:this.props.seqFontSize,seqType:g,showComplement:v,showIndex:N,size:C,translationRows:O[M],y:H,zoom:A,zoomed:G,onUnmount:d})),H+=I[M]}return L.length&&o.createElement(l.InfiniteScroll,{blockHeights:I,bpsPerBlock:n,seqBlocks:L,size:C,totalHeight:I.reduce((function(e,t){return e+t}),0)})},t}(o.Component);t.default=f},function(e,t){var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createSingleRows=t.createMultiRows=t.stackElements=void 0;var r=function(e){return e[e.length-1]};t.stackElements=function(e,t){return n([],e,!0).sort((function(e,t){return e.end-t.end})).sort((function(e,t){return e.start-t.start})).reduce((function(e,n){var a=e.findIndex((function(e){return n.end!==n.start&&(r(e).end<=r(e).start?r(e).end+t<=n.start:n.end>n.start?r(e).end<=n.start:r(e).end<n.start&&n.end<(a=e,a[0]).start);var a}));return a>-1?e[a].push(n):e.push([n]),e}),[])},t.createMultiRows=function(e,t,n){for(var r=new Array(n),a=0;a<n;a+=1){r[a]=[];for(var o=0;o<e.length;o+=1)r[a][o]=[]}for(a=0;a<e.length;a+=1)for(o=0;o<e[a].length;o+=1)if(e[a][o].start<e[a][o].end)for(var i=Math.max(0,Math.floor(e[a][o].start/t)),c=Math.floor((e[a][o].end-1)/t);i<=c&&i<n;)r[i][a].push(e[a][o]),i+=1;else if(e[a][o].end<e[a][o].start){var s=Math.floor((e[a][o].end-1)/t);for(0===e[a][o].end&&(s=-1);s>=0&&s<r.length;)r[s][a].push(e[a][o]),s-=1;for(var l=Math.floor(e[a][o].start/t);l<n;)r[l][a].push(e[a][o]),l+=1}else if(e[a][o].end===e[a][o].start){for(var u=0;u<r.length;u+=1)r[u][a].push(e[a][o]);if(0===e[a][o].end)continue;r[l=Math.floor(e[a][o].start/t)][a].push(e[a][o])}for(a=0;a<n;a+=1)r[a]=r[a].filter((function(e){return e[0]}));return r},t.createSingleRows=function(e,t,n,r){void 0===r&&(r=!0);for(var a=new Array(n),o=0;o<n;o+=1)a[o]=[];var i=function(o){var i=e[o],c=i.end,s=i.start;if(void 0!==e[o].fcut){var l=e[o],u=l.fcut,f=l.rcut;s=u>c||u<s?u:s,c=f>c||f<s?f:c}if(s<c)for(var h=Math.floor(s/t),d=Math.floor((c-1)/t);h<=d&&h<n;)a[h].push(e[o]),h+=1;else{for(var p=Math.floor(c/t);p>=0;)a[p].push(e[o]),p-=1;for(var m=Math.floor(s/t);m<n;)(r||a[m].every((function(t){return t.id!==e[o].id})))&&a[m].push(e[o]),m+=1}};for(o=0;o<e.length;o+=1)i(o);return a}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isEqual=void 0,t.isEqual=function(e,n){if(e===n)return!0;if("object"==typeof e&&null!==e&&"object"==typeof n&&null!==n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var r in e){if(!Object.prototype.hasOwnProperty.call(n,r))return!1;if(!(0,t.isEqual)(e[r],n[r]))return!1}return!0}return!1}},function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.randomID=t.createTranslations=t.translate=t.directionality=t.reverseComplement=t.complement=t.reverse=t.guessType=t.getAlphabet=t.nucleotides=void 0,t.nucleotides={a:"a",c:"c",g:"g",t:"t",u:"u"};var r={b:{c:"c",g:"g",t:"t"},d:{a:"a",g:"g",t:"t"},h:{a:"a",c:"c",t:"t"},k:{g:"g",t:"t"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",t:"t"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",t:"t"},x:{a:"a",c:"c",g:"g",t:"t"},y:{c:"c",t:"t"}},a={b:{c:"c",g:"g",u:"u"},d:{a:"a",g:"g",u:"u"},h:{a:"a",c:"c",u:"u"},k:{g:"g",u:"u"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",u:"u"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",u:"u"},x:{a:"a",c:"c",g:"g",u:"u"},y:{c:"c",u:"u"}},o={AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"},i=Array.from(new Set(Object.values(o)).values()).join(""),c=i.toLowerCase().split("").filter((function(e){return"*"!==e})).reduce((function(e,t){var r;return n(n({},e),((r={})[t]=t,r))}),{}),s={b:{d:"d",n:"n"},j:{i:"i",l:"l"},x:c,z:{e:"e",q:"q"}};t.getAlphabet=function(e){return{aa:s,dna:r,rna:a,unknown:r}[e]};var l=new RegExp("^[".concat(i,"BJXZ]+$"),"i");t.guessType=function(e){return e=e.substring(0,1e3),/^[atgcn.]+$/i.test(e)?"dna":/^[augcn.]+$/i.test(e)?"rna":l.test(e)?"aa":"unknown"},t.reverse=function(e){return e.split("").reverse().join("")};var u={a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"};u=n(n({},u),Object.keys(u).reduce((function(e,t){var r;return n(n({},e),((r={})[t.toUpperCase()]=u[t].toUpperCase(),r))}),{}));var f={aa:Object.keys(c).reduce((function(e,t){var r;return n(n({},e),((r={})[t.toUpperCase()]="",r[t.toLowerCase()]="",r))}),{B:"",J:"",Z:"",b:"",j:"",z:""}),dna:u,rna:n(n({},u),{A:"U",a:"u"}),undefined:u};t.complement=function(e,t){if(!e)return{compSeq:"",seq:""};for(var n=f[t],r="",a="",o=0,i=e.length;o<i;o+=1)e[o]in n&&(r+=e[o],a+=n[e[o]]);return{compSeq:a,seq:r}},t.reverseComplement=function(e,n){return(0,t.complement)(e,n).compSeq.split("").reverse().join("")};var h=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),d=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]);t.directionality=function(e){return e?h.has(e)?1:d.has(e)?-1:0:0};var p=Object.keys(o).reduce((function(e,t){var r;return n(n({},e),((r={})[t.replace(/T/gi,"U")]=o[t],r))}),{});t.translate=function(e,t){if("aa"===t)return e;var n=o;"rna"===t&&(n=p);for(var r=e.toUpperCase(),a=r.length,i="",c=0,s=0;c<a;c+=3,s+=1)c+2<a&&(i+=n[r[c]+r[c+1]+r[c+2]]||"?");return i},t.createTranslations=function(e,r,a){var o=r+r,i="aa"===a?1:3;return e.map((function(e){var c=e.direction,s=e.start,l=e.end;s>l&&(l+=r.length);var u=1===c?o.substring(s,l):(0,t.reverseComplement)(o.substring(s,l),a),f=1===c?(0,t.translate)(u,a):(0,t.translate)(u,a).split("").reverse().join(""),h=1===c?s:l-f.length*i,d=1===c?(s+f.length*i)%r.length:l%r.length;return 0===d&&(d+=r.length),n(n({id:(0,t.randomID)(),name:"translation"},e),{AAseq:f,end:d,start:h})}))},t.randomID=function(e){void 0===e&&(e=10);var t,n=(t=Math.pow(10,e+1))/10,r=Math.floor(Math.random()*(t-n+1))+n;return String(r).substring(1)}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InfiniteScroll=void 0;var o=n(1),i=n(8),c=n(12),s=n(15),l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroller=o.createRef(),n.insideDOM=o.createRef(),n.componentDidMount=function(){n.handleScrollOrResize(),window.addEventListener("resize",n.handleScrollOrResize)},n.componentDidUpdate=function(e,t,r){if(n.scroller.current){var a=n.props,o=a.seqBlocks,i=a.size,s=n.state,l=s.centralIndex,u=s.visibleBlocks;n.context&&l!==n.context.linear?n.scrollToCentralIndex():(0,c.isEqual)(e.size,i)&&o.length===e.seqBlocks.length?(0,c.isEqual)(t.visibleBlocks,u)&&n.restoreSnapshot(r):n.handleScrollOrResize()}},n.componentWillUnmount=function(){window.removeEventListener("resize",n.handleScrollOrResize)},n.getSnapshotBeforeUpdate=function(e){var t=n.scroller.current?n.scroller.current.scrollTop:0,r=e.blockHeights,a=0,o=0;do{o+=r[a],a+=1}while(o+r[a]<t&&a<r.length);return{blockIndex:a,blockY:t-o}},n.scrollToCentralIndex=function(){if(n.scroller.current){var e=n.props,t=e.blockHeights,r=e.bpsPerBlock,a=e.seqBlocks,o=e.size.height,i=e.totalHeight,s=n.state.visibleBlocks,l=n.scroller.current,u=l.clientHeight,f=l.scrollHeight,h=n.context.linear,d=a.findIndex((function(e){return e.props.firstBase<=h&&e.props.firstBase+r>=h})),p=[];if(f<=u)p=s;else if(d>-1){var m=a[d],g=d>0?t[d-1]:0,v=m.props.y-g,N=v+o;N>i&&(N=i,v=i-o),t.reduce((function(e,t,n){return e>=v&&e<=N&&p.push(n),e+t}),0),n.scroller.current.scrollTop=m.props.y-t[0]/2}(0,c.isEqual)(p,s)||n.setState({centralIndex:h,visibleBlocks:p})}},n.restoreSnapshot=function(e){if(n.scroller.current){var t=n.props.blockHeights,r=e.blockIndex,a=e.blockY,o=t.slice(0,r).reduce((function(e,t){return e+t}),0)+a;n.scroller.current.scrollTop=o}},n.handleScrollOrResize=function(){if(n.scroller.current&&n.insideDOM.current){var e=n.props,t=e.blockHeights,r=e.size.height,a=e.totalHeight,o=n.state.visibleBlocks,i=[],s=0;if(n.scroller&&n.insideDOM){var l=n.scroller.current.getBoundingClientRect().top,u=n.insideDOM.current.getBoundingClientRect().top;s=u-l}s=35-s,s=Math.max(0,s);var f=(s=Math.min(a-r,s))+r;s-=2*t[0],t.reduce((function(e,t,n){return e>=s&&e<=f&&i.push(n),e+t}),0),(0,c.isEqual)(i,o)||n.setState({visibleBlocks:i})}},n.incrementScroller=function(e){n.stopIncrementingScroller(),n.timeoutID=setTimeout((function(){n.scroller.current&&(n.scroller.current.scrollTop+=e,n.incrementScroller(e))}),5)},n.stopIncrementingScroller=function(){n.timeoutID&&(clearTimeout(n.timeoutID),n.timeoutID=null)},n.handleMouseOver=function(e){if(n.scroller.current)if(1===e.buttons){var t=n.scroller.current.getBoundingClientRect(),r=(e.clientY-t.top)/t.height;if(r>.9){var a=(r=Math.min(1,r))-.9,o=15*(a*=10);n.incrementScroller(o)}else r<.1?(o=-15*(a=10*(r=.1-Math.max(0,r))),n.incrementScroller(o)):n.stopIncrementingScroller()}else n.timeoutID&&n.stopIncrementingScroller()},n.state={centralIndex:0,visibleBlocks:new Array(Math.min(5,t.seqBlocks.length)).fill(null).map((function(e,t){return t}))},n}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.blockHeights,n=e.seqBlocks,r=e.size.width,a=e.totalHeight,i=this.state.visibleBlocks,c=i[0],l=t.slice(0,c).reduce((function(e,t){return e+t}),0);return o.createElement("div",{ref:this.scroller,className:"la-vz-linear-scroller","data-testid":"la-vz-viewer-linear",style:s.linearScroller,onFocus:function(){},onMouseOver:this.handleMouseOver,onScroll:this.handleScrollOrResize},o.createElement("div",{ref:this.insideDOM,className:"la-vz-seqblock-container",style:{height:a,width:"100%"}},o.createElement("div",{className:"la-vz-seqblock-padding-top",style:{height:l,width:r||0}}),i.map((function(e){return n[e]}))))},t.contextType=i.default,t}(o.PureComponent);t.InfiniteScroll=l},function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.seqBlock=t.linearScroller=t.circularLabelLine=t.circularLabelHover=t.circularLabel=t.viewerCircular=t.translationAminoAcidLabel=t.annotationLabel=t.annotation=t.indexTickLabel=t.indexTick=t.indexLine=t.cutSiteHighlight=t.cutSite=t.selectionEdge=t.selection=t.highlight=t.search=t.svgText=void 0,t.svgText={MozUserSelect:"none",WebkitUserSelect:"none",background:"none",fill:"rgb(42, 42, 42)",fontFamily:"Roboto Mono, Monaco, monospace",msUserSelect:"none",userSelect:"none"},t.search={cursor:"pointer",fill:"rgba(255, 251, 7, 0.5)"},t.highlight={cursor:"pointer",fill:"rgba(255, 251, 7, 0.25)",strokeWidth:"1"},t.selection={fill:"rgb(222, 246, 255)",shapeRendering:"auto"},t.selectionEdge={fill:"black",shapeRendering:"geometricPrecision",stroke:"black"},t.cutSite={fill:"transparent",shapeRendering:"auto",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},t.cutSiteHighlight={cursor:"pointer",fill:"rgb(255, 251, 7)",fillOpacity:0,shapeRendering:"auto",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},t.indexLine={fill:"transparent",shapeRendering:"geometricPrecision",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},t.indexTick={fill:"transparent",shapeRendering:"geometricPrecision",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},t.indexTickLabel=n(n({},t.svgText),{fill:"rgb(115, 119, 125)",fontSize:"12",fontWeight:300,textRendering:"optimizeLegibility"}),t.annotation={fillOpacity:"0.7",shapeRendering:"geometricPrecision",strokeWidth:"0.5"},t.annotationLabel=n(n({},t.svgText),{color:"rgb(42, 42, 42)",fontWeight:400,shapeRendering:"geometricPrecision",strokeLinejoin:"round",textRendering:"optimizeLegibility"}),t.translationAminoAcidLabel=n(n({},t.svgText),{color:"rgb(42, 42, 42)",fontSize:"12",fontWeight:400}),t.viewerCircular={cursor:"text",fontSize:"12",fontWeight:300,margin:"auto"},t.circularLabel=n(n({},t.svgText),{cursor:"pointer"}),t.circularLabelHover=n(n({},t.circularLabel),{textDecoration:"underline"}),t.circularLabelLine={fill:"none",stroke:"rgb(158, 170, 184)",strokeWidth:"1"},t.linearScroller={cursor:"text",fontWeight:300,height:"100%",outline:"none !important",overflowX:"hidden",overflowY:"scroll",padding:"10px",position:"relative"},t.seqBlock={overflow:"visible",padding:0,width:"100%"}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SeqBlock=void 0;var i=n(1),c=n(15),s=n(17),l=n(20),u=n(21),f=n(22),h=n(23),d=n(24),p=n(26),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentWillUnmount=function(){var e=t.props,n=e.id;(0,e.onUnmount)(n)},t.findXAndWidthElement=function(e,n,r){var a,o,i,c,s=t.props,l=s.bpsPerBlock,u=s.firstBase,f=s.fullSeq,h=u+s.seq.length,d=n.end,p=n.start,m=t.findXAndWidth(p,d),g=m.width,v=m.x,N=p<u,C=d>h||p===d&&f.length>l;return r.reduce((function(e,t){return t.id===n.id?e+1:e}),0)>1?r.findIndex((function(e){return e.id===n.id}))===e?(g=(a=t.findXAndWidth(u,d)).width,v=a.x,N=!0,C=!1):(g=(o=t.findXAndWidth(p,h)).width,v=o.x,N=!1,C=!0):p>d?(g=(i=t.findXAndWidth(p>h?u:Math.max(u,p),d<u?h:Math.min(h,d))).width,v=i.x,p>u&&(N=!0,C=d>h),d<u&&(N=p<u,C=!0)):p===d&&(g=(c=t.findXAndWidth(p,d+f.length)).width,v=c.x),{overflowLeft:N,overflowRight:C,width:g,x:v}},t.findXAndWidth=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=t.props,a=r.bpsPerBlock,o=r.charWidth,i=r.firstBase,c=r.fullSeq.length,s=r.size;e|=0,n|=0;var l=Math.min(i+a,c),u=c>=a,f=0;e>=i&&(f=(e-i)*o,f=Math.max(f,0)||0);var h=s.width;if(e===n)h=0;else if(e>=i||n<l){var d=Math.max(e,i),p=Math.min(n,l);h=s.width*((p-d)/a),h=Math.abs(h)||0}else i+a>c&&u&&(h=s.width*(c%a/a));return{width:h,x:f}},t.seqTextSpan=function(e,n){var r,a=t.props,o=a.bpColors,c=a.charWidth,s=a.firstBase,l=a.id;return o&&(r=o[e]||o[e.toUpperCase()]||o[e.toLowerCase()]||o[n+s]||void 0),i.createElement("tspan",{key:n+e+l,fill:r||void 0,x:c*n+.2*c},e)},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.annotationRows,n=e.blockHeight,r=e.bpsPerBlock,a=e.charWidth,m=e.compSeq,g=e.cutSiteRows,v=e.elementHeight,N=e.firstBase,C=e.fullSeq,y=e.handleMouseEvent,A=e.highlights,G=e.id,b=e.inputRef,T=e.lineHeight,w=e.onUnmount,q=e.searchRows,x=e.seq,I=e.seqFontSize,E=e.seqType,S=e.showComplement,_=e.showIndex,R=e.size,O=e.translationRows,M=e.zoom,B=e.zoomed;if(!R.width||!R.height)return null;var k={fontSize:I,lengthAdjust:"spacing",textAnchor:"start",textLength:R.width>=0?R.width:1,textRendering:"optimizeLegibility"},L=N+x.length,H=B&&g.length?T:0,P=0+H,z="aa"===E?0:T,D=P+z,W=B&&S?T:0,j=D+W,F=v*O.length,U=j+F,Y=v*t.length,X=t.length+O.length?3:0,V=U+Y+X,K=H+z+W+F+Y+X+5,Q=K+9;return!B&&K<=v&&(Q=v),i.createElement("svg",{ref:b(G,{end:L,ref:G,start:N,type:"SEQ",viewer:"LINEAR"}),className:"la-vz-seqblock",cursor:"text","data-testid":"la-vz-seqblock",display:"block",height:n,id:G,overflow:"visible",style:c.seqBlock,width:R.width>=0?R.width:0,onMouseDown:y,onMouseMove:y,onMouseUp:y},_&&i.createElement(h.default,{charWidth:a,findXAndWidth:this.findXAndWidth,firstBase:N,lastBase:L,seq:x,seqType:E,showIndex:_,size:R,yDiff:V,zoom:M}),i.createElement(d.default.Block,{findXAndWidth:this.findXAndWidth,firstBase:N,fullSeq:C,lastBase:L,selectHeight:K,onUnmount:w}),i.createElement(f.Highlights,{compYDiff:D-3,findXAndWidth:this.findXAndWidthElement,firstBase:N,highlights:A,indexYDiff:P-3,inputRef:b,lastBase:L,lineHeight:T,listenerOnly:!1,seqBlockRef:this}),i.createElement(d.default.Edges,{findXAndWidth:this.findXAndWidth,firstBase:N,fullSeq:C,lastBase:L,selectEdgeHeight:Q}),i.createElement(u.default,{compYDiff:D-3,filteredRows:S?q:q.filter((function(e){return 1===e.direction})),findXAndWidth:this.findXAndWidth,firstBase:N,indexYDiff:P-3,inputRef:b,lastBase:L,lineHeight:T,listenerOnly:!1,zoomed:B}),O.length&&i.createElement(p.TranslationRows,{bpsPerBlock:r,charWidth:a,elementHeight:v,findXAndWidth:this.findXAndWidth,firstBase:N,fullSeq:C,inputRef:b,lastBase:L,seqType:E,translationRows:O,yDiff:j,onUnmount:w}),t.length&&i.createElement(s.default,{annotationRows:t,bpsPerBlock:r,elementHeight:v,findXAndWidth:this.findXAndWidthElement,firstBase:N,fullSeq:C,inputRef:b,lastBase:L,seqBlockRef:this,width:R.width,yDiff:U}),B&&"aa"!==E?i.createElement("text",o({},k,{className:"la-vz-seq","data-testid":"la-vz-seq",id:G,style:c.svgText,transform:"translate(0, ".concat(P+T/2,")")}),x.split("").map(this.seqTextSpan)):null,m&&B&&S&&"aa"!==E?i.createElement("text",o({},k,{className:"la-vz-comp-seq","data-testid":"la-vz-comp-seq",id:G,style:c.svgText,transform:"translate(0, ".concat(D+T/2,")")}),m.split("").map(this.seqTextSpan)):null,B&&i.createElement(l.CutSites,{cutSites:g,findXAndWidth:this.findXAndWidth,firstBase:N,inputRef:b,lastBase:L,lineHeight:T,size:R,yDiff:-3,zoom:M}),i.createElement(u.default,{compYDiff:D-3,filteredRows:S?q:q.filter((function(e){return 1===e.direction})),findXAndWidth:this.findXAndWidth,firstBase:N,indexYDiff:P-3,inputRef:b,lastBase:L,lineHeight:T,listenerOnly:!0,zoomed:B}),i.createElement(f.Highlights,{compYDiff:D-3,findXAndWidth:this.findXAndWidthElement,firstBase:N,highlights:A,indexYDiff:P-3,inputRef:b,lastBase:L,lineHeight:T,listenerOnly:!0,seqBlockRef:this}))},t.defaultProps={},t}(i.PureComponent);t.SeqBlock=m},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(18),i=n(15),c=function(e,t){if(document)for(var n=document.getElementsByClassName(e),r=0;r<n.length;r+=1)n[r].style.fillOpacity="".concat(t)};t.default=function(e){return a.createElement("g",null,e.annotationRows.map((function(t,n){return a.createElement(s,{key:"annotation-linear-row-".concat(t[0].id,"-").concat(e.firstBase,"-").concat(e.lastBase),annotations:t,bpsPerBlock:e.bpsPerBlock,findXAndWidth:e.findXAndWidth,firstBase:e.firstBase,fullSeq:e.fullSeq,height:e.elementHeight,inputRef:e.inputRef,lastBase:e.lastBase,seqBlockRef:e.seqBlockRef,width:e.width,y:e.yDiff+e.elementHeight*n})})))};var s=function(e){return a.createElement("g",{className:"la-vz-linear-annotation-row",height:.8*e.height,transform:"translate(0, ".concat(e.y,")"),width:e.width},e.annotations.map((function(t,n){return a.createElement(l,r({},e,{key:"annotation-linear-".concat(t.id,"-").concat(n,"-").concat(e.firstBase,"-").concat(e.lastBase),element:t,elements:e.annotations,index:n}))})))},l=function(e){var t=e.element,n=e.elements,r=e.findXAndWidth,s=e.firstBase,l=e.index,u=e.inputRef,f=e.lastBase,h=t.color,d=t.direction,p=t.end,m=t.name,g=t.start,v=1===d,N=-1===d,C=r(l,t,n),y=C.overflowLeft,A=C.overflowRight,G=C.width,b=C.x,T=g>p&&p<s,w=v&&p>s&&p<=f,q=N&&g>=s&&g<=f,x=.8*e.height,I=x/4,E=[b,G],S=E[0],_=E[1],R=q?"M ".concat(8," 0"):"M 0 0",O="L ".concat(w?G-8:G," 0"),M="",B="L ".concat(G," ").concat(x);A&&G>8||T?B="\n        L ".concat(G-4," ").concat(I,"\n        L ").concat(G," ").concat(2*I,"\n        L ").concat(G-4," ").concat(3*I,"\n        L ").concat(G," ").concat(4*I):w&&(B="\n        L ".concat(G," ").concat(x/2,"\n        L ").concat(G-Math.min(8,_)," ").concat(x));var k="L 0 ".concat(x," L 0 0");y&&G>8?k="\n        L 0 ".concat(x,"\n        L ").concat(4," ").concat(3*I,"\n        L 0 ").concat(2*I,"\n        L ").concat(4," ").concat(I,"\n        L 0 0"):q&&(k="\n        L ".concat(Math.min(8,_)," ").concat(x,"\n        L 0 ").concat(x/2,"\n        L ").concat(Math.min(8,_)," 0")),M="".concat(R," ").concat(O," ").concat(B," ").concat(k),v&&A||v&&T?G>15&&(M+="\n        M ".concat(G-12," ").concat(I,"\n        L ").concat(G-8," ").concat(2*I,"\n        L ").concat(G-12," ").concat(3*I,"\n        M ").concat(G-16," ").concat(I,"\n        L ").concat(G-12," ").concat(2*I,"\n        L ").concat(G-16," ").concat(3*I)):(N&&y||N&&T)&&G>15&&(M+="\n        M ".concat(12," ").concat(3*I,"\n        L ").concat(8," ").concat(2*I,"\n        L ").concat(12," ").concat(I,"\n        M ").concat(16," ").concat(3*I,"\n        L ").concat(12," ").concat(2*I,"\n        L ").concat(16," ").concat(I));var L=6.75*m.length<G-15;return a.createElement("g",{id:t.id,transform:"translate(".concat(S,", ").concat(.1*x,")")},a.createElement("path",{ref:u(t.id,{end:p,name:t.name,ref:t.id,start:g,type:"ANNOTATION",viewer:"LINEAR"}),className:"".concat(t.id," la-vz-annotation"),cursor:"pointer",d:M,fill:h,id:t.id,stroke:h?o.COLOR_BORDER_MAP[h]||(0,o.darkerColor)(h):"gray",style:i.annotation,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return c(t.id,.7)},onMouseOver:function(){return c(t.id,1)}}),L&&a.createElement("text",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:12,id:t.id,style:i.annotationLabel,textAnchor:"middle",x:G/2,y:x/2+1,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return c(t.id,.7)},onMouseOver:function(){return c(t.id,1)}},m))}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.darkerColor=t.borderColorByIndex=t.colorByIndex=t.chooseRandomColor=t.COLOR_BORDER_MAP=t.COLORS=void 0;var r=n(19);t.COLORS=["#9DEAED","#8FDE8C","#CFF283","#8CDEBD","#F0A3CE","#F7C672","#F07F7F","#FAA887","#F099F7","#C59CFF","#6B81FF","#85A6FF"],t.COLOR_BORDER_MAP={"#6B81FF":"#2E3B85","#85A6FF":"#4C66AD","#8CDEBD":"#4CA17F","#8FDE8C":"#5CA35A","#9DEAED":"#5EB5B8","#C59CFF":"#8A60C4","#CFF283":"#8DB041","#F07F7F":"#AD4040","#F099F7":"#AB63B0","#F0A3CE":"#BD6295","#F7C672":"#BD872B","#FAA887":"#B36446"},t.chooseRandomColor=function(e){var n=e||t.COLORS;return n[Math.floor(Math.random()*n.length)]},t.colorByIndex=function(e,n){return(n||t.COLORS)[e%(n||t.COLORS).length]},t.borderColorByIndex=function(e){return t.COLOR_BORDER_MAP[t.COLORS[e%t.COLORS.length]]};var a={};t.darkerColor=function(e){if(a[e])return a[e];var t=(0,r.pSBC)(-.5,e);return a[e]=t,t||e}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pSBC=void 0,t.pSBC=function(e,t,n,r){var a,o,i,c,s,l,u,f=parseInt,h=Math.round,d="string"==typeof n;if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!==t[0]&&"#"!==t[0]||n&&!d)return null;var p=function(e){var t,n=e.length,r={};if(n>9){if(t=e=e.split(","),a=t[0],o=t[1],i=t[2],d=t[3],(n=e.length)<3||n>4)return null;r.r=f("a"===a[3]?a.slice(5):a.slice(4)),r.g=f(o),r.b=f(i),r.a=d?parseFloat(d):-1}else{if(8===n||6===n||n<4)return null;n<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(n>4?e[4]+e[4]:"")),e=f(e.slice(1),16),9===n||5===n?(r.r=e>>24&255,r.g=e>>16&255,r.b=e>>8&255,r.a=h((255&e)/.255)/1e3):(r.r=e>>16,r.g=e>>8&255,r.b=255&e,r.a=-1)}return r};return u=t.length>9,u=d?n.length>9||"c"===n&&!u:u,s=p(t),c=e<0,l=n&&"c"!==n?p(n):c?{a:-1,b:0,g:0,r:0}:{a:-1,b:255,g:255,r:255},c=1-(e=c?-1*e:e),s&&l?(r?(a=h(c*s.r+e*l.r),o=h(c*s.g+e*l.g),i=h(c*s.b+e*l.b)):(a=h(Math.pow(c*Math.pow(s.r,2)+e*Math.pow(l.r,2),.5)),o=h(Math.pow(c*Math.pow(s.g,2)+e*Math.pow(l.g,2),.5)),i=h(Math.pow(c*Math.pow(s.b,2)+e*Math.pow(l.b,2),.5))),d=s.a,l=l.a,d=(s=d>=0||l>=0)?d<0?l:l<0?d:d*c+l*e:0,u?"rgb"+(s?"a(":"(")+a+","+o+","+i+(s?","+h(1e3*d)/1e3:"")+")":"#"+(4294967296+16777216*a+65536*o+256*i+(s?h(255*d):0)).toString(16).slice(1,s?void 0:-2)):null}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CutSites=void 0;var a=n(1),o=n(5),i=n(15);t.CutSites=function(e){var t=e.cutSites,n=e.findXAndWidth,o=e.firstBase,s=e.inputRef,l=e.lastBase,u=e.lineHeight,d=e.size,p=e.yDiff,m=e.zoom.linear,g=c(t.filter((function(e){return e.end>e.start})),o,l,n);if(!g.length)return null;var v=f(g,d),N=p+u;return a.createElement("g",{className:"la-vz-cut-sites"},v.map((function(e){var t;return a.createElement("g",{key:"cut-site-".concat(e.c.id,"-").concat(o)},e.label.render&&a.createElement("text",{className:"la-vz-cut-site-text ".concat(e.c.id,"-label"),dominantBaseline:"hanging",id:e.c.id,style:r(r({},i.svgText),{cursor:"pointer",fontSize:12}),textAnchor:"start",x:e.label.x,y:p,onBlur:function(){return 0},onFocus:function(){return 0},onMouseOut:function(){return h(e.c.id,!1)},onMouseOver:function(){return h(e.c.id,!0)}},e.label.text),m>10&&a.createElement("path",{ref:s(e.c.id,{clockwise:!0,end:e.c.end,id:e.c.id,start:e.c.start,type:"ENZYME",viewer:"LINEAR"}),className:"la-vz-cut-site-highlight ".concat(e.c.id),d:"M ".concat(e.highlight.x," ").concat(N,"\n                    L ").concat(e.highlight.x+e.highlight.width," ").concat(N,"\n                    L ").concat(e.highlight.x+e.highlight.width," ").concat(N+2*u,"\n                    L ").concat(e.highlight.x," ").concat(N+2*u," Z"),style:(null===(t=e.c.color)||void 0===t?void 0:t.length)?r(r({},i.cutSiteHighlight),{fill:e.c.color}):i.cutSiteHighlight,onMouseOut:function(){return h(e.c.id,!1)},onMouseOver:function(){return h(e.c.id,!0)}}),e.top.render&&a.createElement("path",{className:"la-vz-cut-site ".concat(e.c.id),d:"M ".concat(e.top.x," ").concat(N," L ").concat(e.top.x," ").concat(N+u),style:i.cutSite}),e.connector.render&&m>10&&a.createElement("path",{className:"la-vz-cut-site ".concat(e.c.id),d:"M ".concat(e.connector.x," ").concat(N+u,"\n                    L ").concat(e.connector.x+e.connector.width," ").concat(N+u),style:i.cutSite}),e.bottom.render&&m>10&&a.createElement("path",{className:"la-vz-cut-site ".concat(e.c.id),d:"M ".concat(e.bottom.x," ").concat(N+u," L ").concat(e.bottom.x," ").concat(N+2*u),style:i.cutSite}))})))};var c=function(e,t,n,r){return e.map((function(e){var a=r(e.fcut,e.fcut).x,o=r(e.rcut,e.rcut).x,i=e.fcut>t&&e.fcut<n;(e.fcut===t&&e.rcut>t&&e.rcut<=n||e.fcut===n&&e.rcut>=t&&e.rcut<=n)&&(i=!0);var c=e.rcut>t&&e.rcut<n;return(e.rcut===t&&e.fcut>t&&e.fcut<=n||e.rcut===n&&e.fcut>=t&&e.fcut<=n)&&(c=!0),{bottom:{render:c,x:o},c:e,connector:u(e,a,o,t,n,i,c,r),highlight:s(e,t,n,r),top:{render:i,x:a}}}))},s=function(e,t,n,r){return l(e.start,e.end,t,n)?e.start>e.end?r(e.end<t?n:Math.min(n,e.end),e.start>n?t:Math.max(t,e.start)):r(e.start<t?n:Math.min(n,e.start),e.end>n?t:Math.max(t,e.end)):r(e.start,e.end)},l=function(e,t,n,r){return e<n&&t<n||e>r&&t>r||(t>=e?t<r&&e>n:e<r&&t>n)},u=function(e,t,n,a,o,i,c,s){return i&&c?{render:!0,width:Math.abs(n-t),x:Math.min(t,n)}:i?e.start+t>e.end+n||e.fcut>e.rcut?r({render:!0},s(a,e.fcut)):r({render:!0},s(e.fcut,o)):c?e.start+t>e.end+n||e.fcut>e.rcut?r({render:!0},s(e.rcut,o)):r({render:!0},s(a,e.rcut)):{render:!1,width:0,x:0}},f=function(e,t){var n=e.filter((function(e){return!e.top.render})).map((function(e){return r(r({},e),{label:{render:!1,text:e.c.name,x:e.highlight.x}})})),a=e.filter((function(e){return e.top.render})).sort((function(e,t){return e.top.x-t.top.x})).map((function(e){return r(r({},e),{label:{render:e.top.render,text:e.c.name,x:e.highlight.x}})})),i=function(e){return e.label.x+e.label.text.length*o.CHAR_WIDTH>t.width};return a.forEach((function(e){var n=e.label.text.length*o.CHAR_WIDTH;i(e)&&(e.label.x=t.width-n)})),a.forEach((function(e,t){if(0==t)return e;for(var n,r,i=a[t-1];r=e,(n=i).label.x+n.label.text.length*o.CHAR_WIDTH>r.label.x;)e.label.x+=2*o.CHAR_WIDTH;return e})),a.forEach((function(e){i(e)&&(e.label.render=!1)})),n.concat(a)},h=function(e,t){if(void 0===t&&(t=!1),document){for(var n=document.getElementsByClassName("".concat(e,"-label")),r=0;r<n.length;r+=1)n[r].style.fillOpacity=t?"1.0":"0.8",n[r].style.fontWeight=t?"400":"300";for(n=document.getElementsByClassName(e),r=0;r<n.length;r+=1)n[r].style.fillOpacity=t?"0.25":"0",n[r].style.stroke=t?"black":"rgb(115, 119, 125)"}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(13),o=n(15);t.default=function(e){var t=e.compYDiff,n=e.filteredRows,a=e.findXAndWidth,o=e.firstBase,c=e.indexYDiff,s=e.inputRef,l=e.lastBase,u=e.lineHeight,f=e.listenerOnly,h=e.zoomed;return r.createElement(r.Fragment,null,n.map((function(e){return r.createElement(i,{key:JSON.stringify(e),compYDiff:t,direction:e.direction||1,end:e.end,findXAndWidth:a,firstBase:o,indexYDiff:c,inputRef:s,lastBase:l,lineHeight:u,listenerOnly:f,start:e.start,zoomed:h})})))};var i=function(e){var t,n=e.compYDiff,i=e.direction,c=e.end,s=e.findXAndWidth,l=e.firstBase,u=e.indexYDiff,f=e.inputRef,h=e.lastBase,d=e.lineHeight,p=e.listenerOnly,m=e.start,g=e.zoomed,v=s(m,c),N=v.width,C=v.x;m>c&&(N=(t=s(m>h?l:Math.max(l,m),c<l?h:Math.min(h,c))).width,C=t.x);var y=(0,a.randomID)(),A=u;return(i<0||!g)&&(A=n),r.createElement("rect",{key:y,ref:f(y,{end:c,id:y,start:m,type:"FIND",viewer:"LINEAR"}),className:"la-vz-search",cursor:"pointer",height:d,id:y,shapeRendering:"crispEdges",stroke:p?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:p?{fill:"transparent"}:o.search,width:N,x:C,y:A})}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Highlights=void 0;var a=n(1),o=n(15);t.Highlights=function(e){return a.createElement(a.Fragment,null,e.highlights.map((function(t,n){return a.createElement(i,r({key:"linear-highlight-".concat(t.id,"-").concat(e.listenerOnly)},e,{highlight:t,index:n}))})))};var i=function(e){var t,n=e.findXAndWidth(e.index,e.highlight,e.highlights),i=n.width,c=n.x,s=o.highlight.fill;e.listenerOnly?s="transparent":(null===(t=e.highlight.color)||void 0===t?void 0:t.length)&&(s=e.highlight.color);var l={className:"la-vz-highlight",height:e.lineHeight,id:e.highlight.id,stroke:e.listenerOnly?"none":"rgba(0, 0, 0, 0.5)",style:r(r({},o.highlight),{fill:s}),width:i,x:c};return a.createElement(a.Fragment,null,a.createElement("rect",r({key:"linear-highlight-".concat(e.highlight.id,"-top"),ref:e.inputRef(e.highlight.id,r(r({ref:e.highlight.id},e.highlight),{type:"HIGHLIGHT",viewer:"LINEAR"}))},l,{y:e.indexYDiff})),a.createElement("rect",r({key:"linear-highlight-".concat(e.highlight.id,"-bottom"),ref:e.inputRef(e.highlight.id,r(r({ref:e.highlight.id},e.highlight),{type:"HIGHLIGHT",viewer:"LINEAR"}))},l,{y:e.compYDiff})))}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(15),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.genTicks=function(){var e=t.props,n=e.charWidth,r=e.findXAndWidth,a=e.firstBase,c=e.seq,s=e.seqType,l=e.size,u=e.zoom,f=c.length,h=0;switch(!0){case u.linear>85:h=5;break;case u.linear>40:h=10;break;case u.linear>10:h=20;break;case u.linear>=0:h=50;break;default:h=10}"aa"===s&&(h/=2);var d=[];0===a&&d.push(1);for(var p=0;(p+a)%h!=0;)p+=1;for(;p<f;)p+a!==0&&d.push(p+a),p+=h;return d.map((function(e){var t=r(e-1,e-1).x;t+=n/2;var a=Math.ceil(Math.log10(e+1)),c=7.7*(a-=1),s=r(e-1,e-1).x;s+=n/2,s-=c/2+3,s=Math.max(0,s),s=Math.min(l.width-c/2,s);var u="translate(".concat(t,", 1)"),f="translate(".concat(s,", 10)");return o.createElement(o.Fragment,{key:e},o.createElement("path",{className:"la-vz-index-tick",d:"M 0 0 L 0 7",style:i.indexTick,transform:u}),o.createElement("text",{className:"la-vz-index-tick-label",dominantBaseline:"hanging",style:i.indexTickLabel,transform:f},e))}))},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.findXAndWidth,n=e.firstBase,r=e.lastBase,a=e.showIndex,c=e.yDiff;if(!a)return null;var s=t(n,r),l=s.width,u=s.x;return o.createElement("g",{transform:"translate(0, ".concat(c,")")},o.createElement("path",{className:"la-vz-index-line",d:"M 0 1 L ".concat(u+l," 1"),style:i.indexLine}),this.genTicks())},t}(o.PureComponent);t.default=c},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),c=n(25),s=n(13),l=n(15),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=(0,s.randomID)(),t}return a(t,e),t.prototype.render=function(){var e,t=this.props,n=t.findXAndWidth,r=t.firstBase,a=t.fullSeq,o=t.lastBase,c=t.selectEdgeHeight,s=this.context,u=s.clockwise,f=s.end,h=s.ref,d=s.start;if(void 0!==d&&void 0!==f){var p=null,m=null;if(u?(d>=r&&d<o&&(p=d),f>r&&f<=o&&(m=f)):(d>r&&d<=o&&(p=d),f>=r&&f<o&&(m=f)),("ALL"===h||0===d&&f===a.length-1)&&(p=null,m=null),null===p&&null===m)return null;null===p&&(p=m,m=null);var g=n(p,m),v=g.width,N=g.x;!1===u&&null!==p&&null!==m&&(v=(e=n(m,p)).width,N=e.x);var C=N+v;return null!==p&&null!==m&&(d>f&&!0===u||f>d&&!1===u)&&(C=N-v),d===f&&d===o||null===p&&null===m?null:(p==m&&(m=null),i.createElement("g",null,null!==p&&i.createElement("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:c,shapeRendering:"crispEdges",strokeWidth:0,style:l.selectionEdge,width:1,x:N,y:-5}),null!==m&&i.createElement("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:c,shapeRendering:"crispEdges",strokeWidth:0,style:l.selectionEdge,width:1,x:C,y:-5})))}},t.contextType=c.default,t}(i.PureComponent),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=(0,s.randomID)(),t}return a(t,e),t.prototype.render=function(){var e,t,n,r,a,c,s,u=this.props,f=u.findXAndWidth,h=u.firstBase,d=u.fullSeq,p=u.lastBase,m=u.selectHeight,g=this.context,v=g.clockwise,N=g.ref,C=this.context,y=C.end,A=C.start;if(void 0!==A&&void 0!==y){if(A===y&&"ALL"!==N)return null;("ALL"===N||0===A&&y===d.length)&&(A=0,y=0);var G={"data-testid":"la-vz-selection-block",height:m,style:l.selection,y:-5},b=null,T=null,w=null;if(v&&y>A)A<=p&&y>h&&(T=(e=f(Math.max(h,A),Math.min(p,y))).width,b=e.x);else if(v&&A>y){if(!(A>p&&y<h))if(A<p&&y>h){var q=f(A,p),x=q.width,I=q.x;w=i.createElement("rect",o({},G,{width:x,x:I})),T=(t=f(h,y)).width,b=t.x}else T=(n=f(A>p?h:Math.max(h,A),y<h?p:Math.min(p,y))).width,b=n.x}else if(!v&&A>y)y<=p&&A>=h&&(T=(r=f(Math.max(h,y),Math.min(p,A))).width,b=r.x);else if(!v&&y>A&&(A>h||y<p))if(A>h&&A<p&&y>h){var E=f(y,p);x=E.width,I=E.x,w=i.createElement("rect",o({},G,{width:x,x:I})),T=(a=f(h,A)).width,b=a.x}else T=(c=f(A<h?y:h,y>p?A:p)).width,b=c.x;return"ALL"!==N&&A!==y||(T=(s=f(Math.max(h,0),Math.min(p,d.length+1))).width,b=s.x),b||T?i.createElement(i.Fragment,null,i.createElement("rect",o({},G,{width:T?T+1:void 0,x:b||void 0})),w):null}},t.contextType=c.default,t}(i.PureComponent);t.default={Block:f,Edges:u}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSelection=void 0;var r=n(1);t.defaultSelection={clockwise:!0,end:0,length:0,name:"",ref:null,start:0,type:""};var a=r.createContext(t.defaultSelection);a.displayName="SelectionContext",t.default=a},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRows=void 0;var i=n(1),c=n(18),s=n(13),l=n(15);t.TranslationRows=function(e){var t=e.bpsPerBlock,n=e.charWidth,r=e.elementHeight,a=e.findXAndWidth,o=e.firstBase,c=e.fullSeq,s=e.inputRef,l=e.lastBase,f=e.onUnmount,h=e.seqType,d=e.translationRows,p=e.yDiff;return i.createElement("g",{className:"la-vz-linear-translation","data-testid":"la-vz-linear-translation"},d.map((function(e,d){return i.createElement(u,{key:"i-".concat(o),bpsPerBlock:t,charWidth:n,findXAndWidth:a,firstBase:o,fullSeq:c,height:.9*r,inputRef:s,lastBase:l,seqType:h,translations:e,y:p+r*d,onUnmount:f})})))};var u=function(e){return i.createElement(i.Fragment,null,e.translations.map((function(t,n){return i.createElement(f,o({},e,{key:"translation-linear-".concat(t.id,"-").concat(n,"-").concat(e.firstBase,"-").concat(e.lastBase),translation:t}))})))},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AAs=[],t.componentWillUnmount=function(){var e=t.props.onUnmount;t.AAs.forEach((function(t){return e(t)}))},t.genPath=function(e,n){var r=t.props,a=r.charWidth,o=r.height,i=e*a,c=3*n;return"M 0 0\n\t\t\tL ".concat(i," 0\n\t\t\tL ").concat(i+c," ").concat(o/2,"\n\t\t\tL ").concat(i," ").concat(o,"\n\t\t\tL 0 ").concat(o,"\n\t\t\tL ").concat(c," ").concat(o/2,"\n\t\t\tZ")},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.bpsPerBlock,r=t.charWidth,a=t.findXAndWidth,u=t.firstBase,f=t.fullSeq,h=t.height,d=t.inputRef,p=t.lastBase,m=t.seqType,g=t.translation,v=t.y,N=g.AAseq,C=g.direction,y=g.end,A=g.id,G=g.start,b="aa"===m?1:3,T=N.split("");return i.createElement("g",{ref:d(A,{end:y,name:"translation",parent:o(o({},g),{type:"TRANSLATION"}),start:G,type:"AMINOACID",viewer:"LINEAR"}),id:A,transform:"translate(0, ".concat(v,")")},T.map((function(t,v){var N=(0,s.randomID)();e.AAs.push(N);var y=(G+v*b)%f.length,A=G+v*b+b;if(y>A&&u>=n?A+=f.length:y>A&&u<n?y-=f.length:0===y&&u>=n&&(y+=f.length,A+=f.length),y>=p||A<=u)return null;var T=!0,w=b;y<u?(w=Math.min(b,A-u))<2&&"aa"!==m&&(T=!1):A>p&&(w=Math.min(b,p-y))<2&&"aa"!==m&&(T=!1);var q=a(Math.max(y,u)).x,x=e.genPath(w,1===C?1:-1);return i.createElement("g",{key:N,ref:d(N,{end:A,parent:o(o({},g),{type:"TRANSLATION"}),start:y,type:"AMINOACID",viewer:"LINEAR"}),id:N,transform:"translate(".concat(q,", 0)")},i.createElement("path",{d:x,fill:(0,c.colorByIndex)(t.charCodeAt(0)),id:N,shapeRendering:"geometricPrecision",stroke:(0,c.borderColorByIndex)(t.charCodeAt(0)),style:{cursor:"pointer",opacity:.7,strokeWidth:.8}}),T&&i.createElement("text",{className:"la-vz-translation-amino-acid-label",cursor:"pointer","data-testid":"la-vz-translation",dominantBaseline:"middle",id:N,style:l.translationAminoAcidLabel,textAnchor:"middle",x:.5*w*r,y:"".concat(h/2+1)},t))})))},t}(i.PureComponent)},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),c=n(25),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=o({},c.defaultSelection),t.previousBase=null,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!1,t.selectionStarted=!1,t.shiftSelection=!1,t.lastClick=Date.now(),t.idToRange=new Map,t.componentDidMount=function(){document&&document.addEventListener("mouseup",t.stopDrag)},t.componentWillUnmount=function(){document&&document.removeEventListener("mouseup",t.stopDrag)},t.stopDrag=function(){t.dragEvent=!1},t.resetCircleDragVars=function(e){t.previousBase=e,t.forward=null,t.fullSelectionLength=0,t.dragEvent=!0},t.inputRef=function(e,n){t.idToRange.set(e,o({ref:e},n))},t.removeMountedBlock=function(e){t.idToRange.delete(e)},t.mouseEvent=function(e){var n=t.props.setCentralIndex;if("mousemove"!==e.type&&"mouseup"!==e.type||t.dragEvent){var r=Date.now()-t.lastClick,a=t.dragEvent?t.idToRange.get(e.currentTarget.id):t.idToRange.get(e.target.id)||t.idToRange.get(e.currentTarget.id);if(a){var i=(a=o(o({},a),{end:a.end||0,start:a.start||0})).direction,c=a.end,s=a.start,l=a.viewer;switch(a.type){case"ANNOTATION":case"FIND":case"TRANSLATION":case"ENZYME":case"HIGHLIGHT":"LINEAR"!==l&&n&&n("LINEAR",s||0);var u=(h=!i||1===i)?s:c,f=h?c:s;t.setSelection(o(o({},a),{clockwise:h,end:f,start:u})),t.dragEvent=!1,t.lastClick=Date.now();break;case"AMINOACID":var h;u=(h=!i||1===i)?s:c,f=h?c:s,r<300&&a.parent&&(a=o(o({},a.parent),{end:a.parent.end||0,start:a.parent.start||0}),u=h?a.start:a.end,f=h?a.end:a.start),t.setSelection(o(o({},a),{clockwise:h,end:f,start:u})),t.dragEvent=!1,t.lastClick=Date.now(),e.stopPropagation();break;case"SEQ":"LINEAR"===l?t.handleLinearSeqEvent(e,o(o({},a),{end:a.end||0,start:a.start||0})):"CIRCULAR"===l&&t.handleCircularSeqEvent(e)}}}},t.handleLinearSeqEvent=function(e,n){var r=t.context,a=t.calculateBaseLinear(e,n),i=null!==r.start&&a>=(r.start||0);"mousedown"===e.type&&null!==a?(t.setSelection(o(o({},c.defaultSelection),{clockwise:i,end:a,start:e.shiftKey?r.start:a})),t.dragEvent=!0):t.dragEvent&&null!==a&&t.setSelection(o(o({},c.defaultSelection),{clockwise:i,end:a,start:r.start}))},t.handleCircularSeqEvent=function(e){var n=t.props,r=n.seq,a=n.setCentralIndex,i=t.context,s=i.start,l=i.clockwise,u=i.end,f=t.calculateBaseCircular(e),h=r.length;if("mousedown"===e.type){var d=e.shiftKey?s||0:f,p=e.shiftKey?t.calcSelectionLength(d,f,!1):t.calcSelectionLength(d,f,!0);t.selectionStarted=p>0,t.resetCircleDragVars(d),null==a||a("LINEAR",d),t.setSelection(o(o({},c.defaultSelection),{clockwise:l,end:f,ref:"",start:d,type:"SEQ"}))}else if("mousemove"===e.type&&t.dragEvent&&f&&t.previousBase&&f!==t.previousBase){var m=f>t.previousBase,g=.9*h,v=Math.abs(t.previousBase-f),N=v>g;t.forward=m?!N:N;var C=N?h-v:v,y=t.forward===i.clockwise||null===i.clockwise;if(y?t.fullSelectionLength+=C:t.fullSelectionLength-=C,t.previousBase=f,t.fullSelectionLength<.01*h&&!t.shiftSelection){l=t.forward;var A=t.calcSelectionLength(i.start||0,f,t.forward);t.fullSelectionLength<0&&(t.fullSelectionLength=A),A>t.fullSelectionLength&&(l=!t.forward),u=f}y=t.forward===i.clockwise;var G=t.calcSelectionLength(i.start||0,f,i.clockwise||!0);t.selectionStarted&&t.shiftSelection&&G>t.fullSelectionLength&&(t.fullSelectionLength=G);var b=t.dragEvent&&y,T=t.fullSelectionLength>=h;u=b&&T?s:f,t.shiftSelection=!1,t.setSelection(o(o({},c.defaultSelection),{clockwise:l,end:u,start:s,type:"SEQ"}))}},t.calculateBaseLinear=function(e,n){var r=t.props.bpsPerBlock,a=e.currentTarget.getBoundingClientRect(),o=(e.clientX-a.left)/a.width,i=Math.round(o*r);return Math.min(n.start+i,n.end)},t.calculateBaseCircular=function(e){var n=t.props,r=n.center,a=n.centralIndex,o=n.seq,i=n.yDiff;if(!r)return 0;var c=e.currentTarget.getBoundingClientRect(),s=e.clientX-c.left,l=e.clientY-c.top,u=s-r.x,f=(l-(r.y+i))/u,h=Math.atan(f)*(180/Math.PI)+90;u<0&&(h+=180);var d=h/360,p=Math.round(o.length*d);return(p+=a)>o.length&&(p-=o.length),p},t.setSelection=function(e){var n=t.context,r=t.props.setSelection;if(e.start!==n.start||e.end!==n.end||e.ref!==n.ref||!["SEQ","AMINOACID",""].includes(e.type||"")){var a=o(o({},n),e),i=a.clockwise,c=a.end,s=a.name,l=a.ref,u=a.start,f=a.type;r({clockwise:i,end:c,length:t.calcSelectionLength(u,c,i),name:s,ref:l,start:u,type:f})}},t.calcSelectionLength=function(e,n,r){var a=t.props.seq;return n<e&&!r?e-n:n>e&&!r?e+(a.length-n):n>e&&r?n-e:n<e&&r?a.length-e+n:0},t}return a(t,e),t.prototype.render=function(){return this.props.children(this.inputRef,this.mouseEvent,this.removeMountedBlock)},t.displayName="WithSelectionHandler",t.contextType=c.default,t}(i.PureComponent);t.default=s},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Annotations=void 0;var o=n(1),i=n(8),c=n(18),s=n(15),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hoverAnnotation=function(e,t){if(document)for(var n=document.getElementsByClassName(e),r=0;r<n.length;r+=1)n[r].style.fillOpacity=t},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.annotations,r=t.lineHeight,a=t.radius,s=t.rowsToSkip,l=a-(2*r+3)-r*s,f=l-r;return o.createElement(i.default.Consumer,null,(function(t){var a=t.circular;return o.createElement("g",{className:"la-vz-circular-annotations"},n.reduce((function(t,n,i){return i&&(l-=r+3,f-=r+3),t.concat(n.map((function(t){return o.createElement(u,{key:"la-vz-".concat(t.id,"-annotation-circular-row"),annotation:t,calcBorderColor:c.darkerColor,centralIndex:a,currBRadius:l,currTRadius:f,genArc:e.props.genArc,getRotation:e.props.getRotation,hoverAnnotation:e.hoverAnnotation,id:"la-vz-".concat(t.id,"-annotation-circular-row"),inlinedAnnotations:e.props.inlinedAnnotations,inputRef:e.props.inputRef,lineHeight:r,seqLength:e.props.seqLength})})))}),[]))}))},t}(o.PureComponent);t.Annotations=l;var u=function(e){var t=e.annotation,n=e.calcBorderColor,r=e.centralIndex,a=e.currBRadius,i=e.currTRadius,l=e.genArc,u=e.getRotation,f=e.hoverAnnotation,h=e.inlinedAnnotations,d=e.inputRef,p=e.lineHeight,m=e.seqLength,g=t.end>=t.start?t.end-t.start:m-t.start+t.end;g=0===g?m-.1:g;var v=u(t.start);if(a<0||i<0)return null;var N=(g/2+t.start+m-r)%m,C=N>.25*m&&N<.75*m,y=l({arrowFWD:1===t.direction,arrowREV:-1===t.direction,innerRadius:a,largeArc:g>m/2,length:g,outerRadius:i,sweepFWD:!0}),A=l({arrowFWD:!1,arrowREV:!1,innerRadius:C?a:i,largeArc:g>m/2,length:g,outerRadius:C?a:i,sweepFWD:!0}),G="la-vz-".concat(t.id,"-circular");return o.createElement("g",{id:"la-vz-".concat(t.id,"-annotation-circular"),transform:v},o.createElement("path",{d:A,fill:"transparent",id:G,stroke:"transparent"}),o.createElement("path",{ref:d(t.id,{direction:t.direction,end:t.end,name:t.name,ref:t.id,start:t.start,type:"ANNOTATION",viewer:"CIRCULAR"}),className:"".concat(t.id," la-vz-annotation"),cursor:"pointer",d:y,fill:t.color,id:t.id,stroke:t.color?c.COLOR_BORDER_MAP[t.color]||n(t.color):"gray",style:s.annotation,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return f(t.id,"0.7")},onMouseOver:function(){return f(t.id,"1.0")}}),h.includes(t.id)&&o.createElement("text",{dy:-.4*p,id:t.id,style:s.svgText,onBlur:function(){},onFocus:function(){},onMouseOut:function(){return f(t.id,"0.7")},onMouseOver:function(){return f(t.id,"1.0")}},o.createElement("textPath",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:12,id:t.id,startOffset:C?"25%":"75%",style:s.annotationLabel,textAnchor:"middle",xlinkHref:"#".concat(G)},t.name)))}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.CutSites=void 0;var a=n(1),o=n(15),i=n(4);t.CutSites=function(e){var t=e.cutSites;if(!t.length)return null;t=t.filter((function(e){return e.end>e.start}));var n=function(t,n,r){var a=e.findCoor,o=a(t,n),i=a(t,r);return"M ".concat(i.x," ").concat(i.y," L ").concat(o.x," ").concat(o.y)};return a.createElement("g",{className:"la-vz-circular-cutsites"},t.map((function(t){return a.createElement(c,r({key:"circular-cut-site-".concat(t.id)},e,{calculateLinePath:n,cutSite:t}))})))};var c=function(e){var t=e.calculateLinePath,n=e.cutSite,c=e.genArc,s=e.getRotation,l=e.inputRef,u=e.lineHeight,f=e.radius,h=e.seqLength,d=n.id,p=n.start,m=n.end,g=n.fcut,v=n.rcut;p+g>m+v&&(m=p>m?m+h:m,g>v?v+=h:g+=h);var N=Math.abs(m-p),C=f,y=f+.5*u,A=f+u;return h<i.RENDER_SEQ_LENGTH_CUTOFF&&(y+=u+1.5,A+=2*u+1.5),a.createElement("g",{key:"la-vz-circular-cutsite-".concat(d),id:"la-vz-circular-cutsite-".concat(d),transform:s(p)},a.createElement("path",{ref:l(d,{end:m,ref:d,start:p,type:"ENZYME",viewer:"CIRCULAR"}),className:"la-vz-cut-site",cursor:"pointer",d:c({innerRadius:C,largeArc:N>h/2,length:N,outerRadius:A,sweepFWD:!0}),style:n.enzyme.color?r(r({},o.cutSiteHighlight),{fill:n.enzyme.color}):o.cutSiteHighlight}),a.createElement("path",{className:"la-vz-cut-site",d:t(g-p,A,y),style:o.cutSite}),a.createElement("path",{className:"la-vz-cut-site",d:c({innerRadius:y,largeArc:Math.abs(g-v)>h/2,length:Math.abs(g-v),offset:Math.min(g,v)-p,outerRadius:y,sweepFWD:!0}),style:o.cutSite}),a.createElement("path",{className:"la-vz-cut-site",d:t(v-p,y,C),style:o.cutSite}))}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Find=void 0;var r=n(1),a=n(15),o=n(4);t.Find=function(e){var t=e.genArc,n=e.getRotation,i=e.highlights,c=e.inputRef,s=e.lineHeight,l=e.radius,u=e.search,f=e.seqLength,h=!(f>o.RENDER_SEQ_LENGTH_CUTOFF)||u.length/f<=.02;return r.createElement("g",{className:"la-vz-circular-search"},h&&u.map((function(e){return r.createElement(o.Arc,{key:JSON.stringify(e),className:"la-vz-search",direction:e.direction||1,end:e.end,genArc:t,getRotation:n,inputRef:c,lineHeight:s,radius:l,seqLength:f,start:e.start,style:a.search})})),i.map((function(e){var i=e.color,u=e.end,h=e.start;return r.createElement(o.Arc,{key:"la-vz-highlight-".concat(h,"-").concat(u),className:"la-vz-search",color:i,direction:1,end:u,genArc:t,getRotation:n,inputRef:c,lineHeight:s,radius:l,seqLength:f,start:h,style:a.search})})))}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Index=void 0;var i=n(1),c=n(8),s=n(15),l=n(4),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={indexInc:10,ticks:[]},t.renderBasepairs=function(){var e=t.props,n=e.compSeq,r=e.findCoor,a=e.getRotation,c=e.lineHeight,l=e.radius,u=e.seq,f=e.seqLength,h=e.showComplement,d=t.state.indexInc,p=t.context.circular,m=u+u,g=n+n,v=p-5*d,N=p+5*d;p<f/2&&(v+=f,N+=f);for(var C=[],y=v;y<=N;y+=1)C.push(i.createElement("text",o({key:"la-vz-base-".concat(y)},r(0,l+2*c),{dominantBaseline:"middle",style:s.svgText,transform:a(y)}),m.charAt(y))),h&&C.push(i.createElement("text",o({key:"la-vz-base-comp-".concat(y)},r(0,l+c),{dominantBaseline:"middle",style:s.svgText,transform:a(y)}),g.charAt(y)));return C},t}var n;return a(t,e),t.prototype.render=function(){var e=this.props,t=e.center,n=e.findCoor,r=e.genArc,a=e.getRotation,c=e.lineHeight,u=e.name,f=e.radius,h=e.seq,d=e.seqLength,p=e.showIndex,m=e.size,g=e.totalRows,v=e.yDiff,N=this.state.ticks;if(!p)return null;for(var C=f-g*c,y=[],A=0;A<u.length;)y.push(u.substring(A,A+30).trim()),A+=30;var G=14+20*y.length,b=(y.length?y[0].length/2*12:0)>C?{x:t.x,y:m.height-G-v}:{x:t.x,y:t.y-(y.length-1)/2*25},T=n(0,f),w=n(0,f-7),q=r({innerRadius:f,largeArc:!0,length:d/2,outerRadius:f});return i.createElement("g",null,i.createElement("text",{fontSize:20,fontWeight:500,style:s.svgText,textAnchor:"middle"},y.map((function(e,t){return i.createElement("tspan",{key:e,x:b.x,y:b.y+25*t},e)}))),i.createElement("text",o({x:b.x,y:b.y+14+25*(y.length-1)},{fill:"gray",fontSize:12,textAnchor:"middle"},{style:s.svgText}),"".concat(d," bp")),h.length<=l.RENDER_SEQ_LENGTH_CUTOFF&&i.createElement("g",{className:"la-vz-circular-bps"},this.renderBasepairs()),N.map((function(e){return i.createElement("g",{key:"la-vz-tick-".concat(e),transform:a(e-.5)},i.createElement("path",{className:"la-vz-index-tick",d:"M ".concat(T.x," ").concat(T.y," L ").concat(w.x," ").concat(w.y),style:s.indexTick}),i.createElement("text",{className:"la-vz-index-tick-label",style:s.indexTickLabel,textAnchor:"middle",x:w.x,y:w.y+c},e))})),i.createElement("g",null,i.createElement("path",{className:"la-vz-index-line",d:q,style:s.indexLine,transform:a(.75*d)}),i.createElement("path",{className:"la-vz-index-line",d:q,style:s.indexLine,transform:a(.25*d)})))},n=t,t.contextType=c.default,t.getDerivedStateFromProps=function(e){var t=e.seqLength,r=0;n.context&&(r=n.context.circular);for(var a=Math.floor(t/6),o=Math.max(+a.toPrecision(2),10);o%10!=0;)o+=1;for(var i=[],c=0;c<=t-o/2;c+=o)i.push(0===c?1:c);var s=6*o;return{indexInc:o,ticks:i=i.filter((function(e){return Math.abs(r-e)<s||Math.abs(r+t-e)<s||Math.abs(r-t-e)<s}))}},t}(i.PureComponent);t.Index=u},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Labels=void 0;var i=n(1),c=n(5),s=n(15),l=n(4),u=n(33),f=function(e){function t(t){var n=e.call(this,t)||this;return n.setHoveredGroup=function(e){e!==n.state.hoveredGroup&&n.setState({hoveredGroup:e})},n.state={hoveredGroup:"",labelGroups:[]},n}return a(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.hoveredGroup,r=t.labelGroups,a=this.props,c=a.lineHeight,l=a.size,f=r.find((function(e){return e.labels[0].id===n}));return i.createElement("g",{className:"la-vz-circular-labels",onMouseLeave:function(){return e.setHoveredGroup("")}},r.map((function(t){var r=t.labels[0],a=t.forkCoor||t.textCoor,c=i.createElement(i.Fragment,null,i.createElement("path",{className:"la-vz-label-line",d:"M".concat(t.lineCoor.x," ").concat(t.lineCoor.y," L").concat(a.x," ").concat(a.y),style:s.circularLabelLine}),t.forkCoor&&i.createElement("path",{className:"la-vz-label-line",d:"M".concat(a.x," ").concat(a.y," L").concat(t.textCoor.x," ").concat(t.textCoor.y),style:s.circularLabelLine}));return t.grouped?r.id===n?null:i.createElement("g",{key:"".concat(r.id,"-listener"),id:"".concat(r.id,"-label")},c,i.createElement("text",o({className:"la-vz-circular-label",dominantBaseline:"middle",id:r.id,style:s.circularLabel,textAnchor:t.textAnchor,onMouseEnter:function(){return e.setHoveredGroup(r.id||"")}},t.textCoor),t.name)):i.createElement("g",{key:r.id},c,i.createElement("text",o({className:"la-vz-circular-label",id:r.id},t.textCoor,{dominantBaseline:"middle",style:s.circularLabel,textAnchor:t.textAnchor,onMouseEnter:function(){return(0,u.setHoveredLabelUnderline)(r.id||"",!0)},onMouseLeave:function(){return(0,u.setHoveredLabelUnderline)(r.id||"",!1)}}),t.name))})),f&&i.createElement(u.WrappedGroupLabel,{group:f,lineHeight:c,setHoveredGroup:this.setHoveredGroup,size:l}))},t.getDerivedStateFromProps=function(e,n){return{hoveredGroup:n.hoveredGroup,labelGroups:t.groupOverlappingLabels(e)}},t.groupOverlappingLabels=function(e){var t=e.center,n=e.findCoor,r=e.labels,a=e.lineHeight,i=e.radius,s=e.seqLength,u=e.size,f=e.yDiff,h=s>l.RENDER_SEQ_LENGTH_CUTOFF?2*a:3.5*a,d=i+h,p=r.reduce((function(e,t){return e.concat(t)}),[]).map((function(e){var r;r="enzyme"===e.type?e.start:e.end>e.start?(e.end+e.start)/2:(e.start-s+e.end)/2;var o=s>l.RENDER_SEQ_LENGTH_CUTOFF?i:d-a/2,c=n(r,o,!0),u=n(r,d,!0);return{label:e,lineCoor:c,textAnchor:u.x<=t.x?"end":"start",textCoor:u}})),m=function(e,t){var n=(e.name.length+4)*c.CHAR_WIDTH,r=!1,a=t.y+f;return(a<0||a>u.height||t.x-n<0||t.x+n>u.width)&&(r=!0),r},g=p.reduce((function(e,t){var n=e.findIndex((function(e){return e.textAnchor===t.textAnchor&&Math.abs(e.textCoor.y-t.textCoor.y)<15}));if(n>-1)return e[n].labels.push(t.label),e[n].grouped=!0,e;var r=m(t.label,t.textCoor);return e.concat({forkCoor:null,grouped:r,labels:[t.label],lineCoor:t.lineCoor,name:t.label.name,overflow:r,textAnchor:t.textAnchor,textCoor:t.textCoor})}),[]);return(g=(g=g.reduce((function(e,n,r){if(!n.grouped||n.overflow||n.labels.length>4)return e.concat(n);var a=e[e.length-1],i=g[r+1];a&&a.textAnchor!==n.textAnchor&&(a=void 0),i&&i.textAnchor!==n.textAnchor&&(i=void 0);var s=n.labels.map((function(e,r){var a=r*(3*c.CHAR_WIDTH);"end"===n.textAnchor&&(a=-a);var i=-15*(n.labels.length-r);n.textCoor.y>t.y&&(i=15*(n.labels.length-r));var s={x:n.textCoor.x+a,y:n.textCoor.y+i},l=m(e,s);return o(o({},n),{forkCoor:n.textCoor,grouped:l,labels:[e],overflow:l,textCoor:s})}));return s.some((function(e){return[a,i].some((function(t){return t&&Math.abs(t.textCoor.y-e.textCoor.y)<15}))}))?e.concat(n):e.concat.apply(e,s)}),[])).map((function(e){var t=e.labels[0].name,n=e.labels.length-1;return e.overflow?o(o({},e),{name:"+".concat(n+1)}):e.grouped?o(o({},e),{name:"".concat(t,",+").concat(n)}):o(o({},e),{name:t})}))).map((function(e){var t=e.textCoor,n=t.x,r=t.y;return n=Math.max(c.CHAR_WIDTH*(e.name.length+1),n),n=Math.min(u.width-(e.name.length+1)*c.CHAR_WIDTH,n),r=Math.max(c.CHAR_WIDTH,r),r=Math.min(u.height-c.CHAR_WIDTH-12,r),o(o({},e),{textCoor:{x:n,y:r}})}))},t}(i.Component);t.Labels=f},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setHoveredLabelUnderline=t.WrappedGroupLabel=void 0;var a=n(1),o=n(5),i=n(15);t.WrappedGroupLabel=function(e){var n=e.group,c=e.lineHeight,s=e.setHoveredGroup,l=e.size,u=l.height,f=l.width,h=function(e){return e.reduce((function(e,t){return e+(t.name.length+1)*o.CHAR_WIDTH}),0)},d=function(e){return e[e.length-1]},p=n.labels.reduce((function(e,t){var n=t.name.length*o.CHAR_WIDTH;if(n>f){var a=Math.floor(.75*f/o.CHAR_WIDTH),i=new RegExp(".{1,".concat(a,"}"),"g"),c=t.name.match(i)||[];if(c.length)return c.forEach((function(n){e.push([r(r({},t),{name:n.trim()})])})),e}return d(e)&&h(d(e))+n<=200?(e[e.length-1].push(t),e):(e.push([t]),e)}),[]),m=p.length*c,g=p.reduce((function(e,t,n){return Math.max(e,h(t)-(n===p.length-1?o.CHAR_WIDTH:0))}),0),v=[m,g].map((function(e){return e+2*o.CHAR_WIDTH})),N=v[0],C=v[1],y=n.forkCoor||n.textCoor,A=n.forkCoor?"M".concat(n.textCoor.x," ").concat(n.textCoor.y," L").concat(y.x," ").concat(y.y):"M".concat(n.lineCoor.x," ").concat(n.lineCoor.y," L").concat(y.x," ").concat(y.y),G=n.textCoor,b=G.x,T=G.y;b="end"===n.textAnchor?b-(n.labels[0].name.length+3)*o.CHAR_WIDTH:b,T-=o.CHAR_WIDTH,b=Math.max(b,2*o.CHAR_WIDTH),b=Math.min(b,f-2*o.CHAR_WIDTH-g),T=Math.max(T,2*o.CHAR_WIDTH);var w={x:b,y:T=Math.min(T,u-2*o.CHAR_WIDTH-m)},q={x:b-o.CHAR_WIDTH,y:T-o.CHAR_WIDTH-2},x="".concat(n.labels[0].id,"_overlay");return a.createElement("g",{key:x,onMouseLeave:function(){return s("")}},a.createElement("path",{className:"la-vz-label-line",d:A}),a.createElement("rect",r({fill:"white",height:N,stroke:"none",width:C},q)),a.createElement("text",r({},w,{style:i.svgText}),p.map((function(e,n){return a.createElement("tspan",{key:"".concat(x,"_").concat(n),dominantBaseline:"middle",x:w.x,y:w.y+(n+.5)*c},e.map((function(r,o){return a.createElement(a.Fragment,{key:r.id},a.createElement("tspan",{className:"la-vz-circular-label",dominantBaseline:"middle",id:r.id,style:i.circularLabel,tabIndex:-1,y:w.y+(n+.5)*c,onMouseLeave:function(){return(0,t.setHoveredLabelUnderline)(r.id||"",!1)},onMouseOver:function(){return(0,t.setHoveredLabelUnderline)(r.id||"",!0)}},r.name),o<e.length-1||n!==p.length-1?",":"")})))}))),a.createElement("rect",r({fill:"none",height:N,stroke:"black",strokeWidth:1.5,width:C},q)))},t.setHoveredLabelUnderline=function(e,t){if(document){var n=document.getElementById(e);n&&(n.style.textDecoration=t?"underline":"none")}}},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var o=n(1),i=n(25),c=n(15),s=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.findCoor,n=e.genArc,r=e.getRotation,a=e.lineHeight,i=e.radius,l=e.seq,u=e.seqLength,f=e.totalRows,h=this.context,d=h.clockwise,p=h.end,m=h.ref,g=h.start;if(void 0!==g&&void 0!==p){var v=0;g===p&&"ALL"===m?v=u:g>p?v=!1!==d?Math.abs(p-g+u):-Math.abs(g-p):g<p&&(v=!1!==d?Math.abs(p-g):-Math.abs(g-p+u)),Math.abs(v)===u&&(v+=v>0?-.1:.1);var N=i+a;l.length<=s.RENDER_SEQ_LENGTH_CUTOFF&&(N+=2*a+3);var C=i-a*(f-1);(C<0||N<0)&&(C=0,N=i);var y=t(0,N),A=t(0,C),G="M ".concat(A.x," ").concat(A.y,"\n\t\t\tL ").concat(y.x," ").concat(y.y),b=!1!==d||"ALL"===m,T=!1;return(!1!==d&&v>u/2||!1===d&&Math.abs(v)>u/2)&&(T=!0),o.createElement("g",null,v&&o.createElement("path",{className:"la-vz-selection",d:n({innerRadius:C,largeArc:T,length:v,outerRadius:N,sweepFWD:b}),shapeRendering:"auto",stroke:"none",style:c.selection,transform:r(g)}),o.createElement("path",{className:"la-vz-selection-edge",d:G,strokeWidth:1,style:c.selectionEdge,transform:r(g)}),v&&o.createElement("path",{className:"la-vz-selection-edge",d:G,style:c.selectionEdge,transform:r(p)}))}},t.contextType=i.default,t}(o.PureComponent);t.Selection=l},function(e,t,n){var r,a=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),c=n(36),s=n(5),l=n(18),u=n(37),f=n(12),h=n(39),d=n(13),p=function(e){function t(t){var n=e.call(this,t)||this;n.componentDidUpdate=function(e,t){var r=e.accession,a=void 0===r?"":r,i=e.annotations,c=e.enzymes,s=e.enzymesCustom,l=e.file,u=e.search,h=t.seq,d=t.seqType;if(a!==n.props.accession||l!==n.props.file||n.props.seq&&n.props.seq!==h||n.props.seqType&&n.props.seqType!==d){var p=n.parseInput();n.setState(o(o({annotations:p.annotations,compSeq:p.compSeq,name:p.name,seq:p.seq,seqType:p.seqType},n.search(n.props,p.seq)),n.cut(p.seq,p.seqType)))}else!u||n.props.search&&u.query===n.props.search.query&&u.mismatch===n.props.search.mismatch||n.setState(n.search(n.props,h)),(0,f.isEqual)(c,n.props.enzymes)&&(0,f.isEqual)(s,n.props.enzymesCustom)||n.setState(n.cut(h,d)),(0,f.isEqual)(i,n.props.annotations)||n.setState({annotations:n.parseAnnotations(n.props.annotations,n.props.seq)})},n.parseInput=function(e){var t=e||n.props,r=t.annotations,a=t.compSeq,o=t.file,i=t.name,s=void 0===i?"":i,l=t.seq,u=t.seqType;if(o){var f={};o&&o instanceof File&&(f.fileName=o.name);var h=(0,c.parseFile)(o.toString(),f);if(h.length){var p=null!=u?u:(0,d.guessType)(h[0].seq);return{annotations:n.parseAnnotations(h[0].annotations,h[0].seq),compSeq:(0,d.complement)(h[0].seq,p).compSeq,name:h[0].name,seq:h[0].seq,seqType:p}}}else if(l)return p=null!=u?u:(0,d.guessType)(l),{annotations:n.parseAnnotations(r,l),compSeq:a||(0,d.complement)(l,p).compSeq,name:s,seq:l,seqType:p};return{annotations:[],compSeq:"",name:"",seq:"",seqType:"dna"}},n.search=function(e,t){var r=e.onSearch,a=e.search,o=e.seqType;if(!a||!t||!t.length)return{search:[]};var i=(0,h.default)(a.query,a.mismatch,t,o||(0,d.guessType)(t));return n.state&&(0,f.isEqual)(i,n.state.search)?{search:n.state.search}:(r&&r(i),{search:i})},n.cut=function(e,t){return{cutSites:(0,u.default)(e||"",t,n.props.enzymes||[],n.props.enzymesCustom||{})}},n.parseAnnotations=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=""),(e||[]).map((function(e,n){return o(o({id:(0,d.randomID)()},e),{color:e.color||(0,l.colorByIndex)(n,l.COLORS),direction:(0,d.directionality)(e.direction),end:e.end%(t.length+1),start:e.start%(t.length+1)})}))};var r=n.parseInput(t);return n.state=o(o(o({},r),n.search(t,r.seq)),n.cut(r.seq,r.seqType)),n}return a(t,e),t.prototype.componentDidMount=function(){var e=this;"undefined"!=typeof window&&(this.props.disableExternalFonts||n(40).load({google:{families:["Roboto Mono:300,400,500"]}}));var t=this.props.accession;t&&t.length&&(0,c.default)(t,{cors:!0}).then((function(t){var n=(0,d.guessType)(t.seq);e.setState(o(o({annotations:e.parseAnnotations(t.annotations,t.seq),compSeq:(0,d.complement)(t.seq,n).compSeq,name:t.name,seq:t.seq,seqType:n},e.search(e.props,t.seq)),e.cut(t.seq,n)))}))},t.prototype.componentDidCatch=function(e,t){console.error("Error caught in SeqViz: %v %v",e,t)},t.prototype.render=function(){var e=this.props,t=e.highlightedRegions,n=e.highlights,r=e.showComplement,a=e.showIndex,c=e.style,l=e.zoom,u=this.props.translations,f=this.state,h=f.compSeq,d=f.seq,p=f.seqType;if(!d)return i.createElement("div",{className:"la-vz-seqviz"});"aa"===p&&(u=[{direction:1,end:d.length,start:0}]);var m={bpColors:this.props.bpColors||{},copyEvent:this.props.copyEvent||function(){return!1},selectAllEvent:this.props.selectAllEvent||function(){return!1},cutSites:this.state.cutSites,highlights:(n||[]).concat(t||[]).map((function(e,t){return o(o({},e),{direction:1,end:e.end%(d.length+1),id:"highlight-".concat(t,"-").concat(e.start,"-").concat(e.end),name:"",start:e.start%(d.length+1)})})),onSelection:this.props.onSelection||function(){},rotateOnScroll:!!this.props.rotateOnScroll,showComplement:!!h&&(void 0===r||r)||!1,showIndex:!!a,translations:(u||[]).map((function(e){return{direction:e.direction&&e.direction<0?-1:1,end:e.start+3*Math.floor((e.end-e.start)/3),start:e.start%d.length}})),viewer:this.props.viewer||"both",zoom:{circular:"number"==typeof(null==l?void 0:l.circular)?Math.min(Math.max(l.circular,0),100):0,linear:"number"==typeof(null==l?void 0:l.linear)?Math.min(Math.max(l.linear,0),100):50}};return i.createElement("div",{className:"la-vz-seqviz","data-testid":"la-vz-seqviz",style:o({height:"100%",width:"100%"},c)},i.createElement(s.default,o({},this.props,m,this.state)))},t.defaultProps={accession:"",annotations:[],backbone:"",bpColors:{},colors:[],compSeq:"",copyEvent:function(e){return"c"===e.key&&(e.metaKey||e.ctrlKey)},disableExternalFonts:!1,enzymes:[],enzymesCustom:{},name:"",onSearch:function(e){return null},onSelection:function(e){return null},rotateOnScroll:!0,search:{mismatch:0,query:""},selectAllEvent:function(e){return"a"===e.key&&(e.metaKey||e.ctrlKey)},seq:"",showComplement:!0,showIndex:!0,style:{},translations:[],viewer:"both",zoom:{circular:0,linear:50}},t}(i.Component);t.default=p},e=>{e.exports=n(4159)},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.findCutSites=void 0;var a=n(38),o=n(39),i=n(13);t.default=function(e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o={});var i=e+e,c=r.map((function(e){return"string"==typeof e?a.default[e.toLowerCase()]:e})).filter((function(e){return e})).concat(Object.values(o)).reduce((function(r,a){return(0,t.findCutSites)(a,i,n,e.length).forEach((function(e){return r["".concat(e.fcut,"-").concat(e.direction)]=e})),r}),{});return Object.values(c)},t.findCutSites=function(e,t,n,a){if("aa"===n)return[];for(var c=e.fcut,s=e.rcut,l=e.rseq,u=[],f=(0,o.createRegex)(l,n),h=f.exec(t);h;){var d=h.index;u.push({direction:1,end:d+l.length,enzyme:e,fcut:d+c,id:"",name:e.name,rcut:d+s,start:d}),h=f.exec(t)}var p=l===(0,i.reverseComplement)(l,n),m=(0,o.createRegex)((0,i.reverseComplement)(l,n),n);for(h=m.exec(t);h&&!p;)d=h.index,u.push({direction:-1,end:d+l.length,enzyme:e,fcut:d+l.length-s,id:"",name:e.name,rcut:d+l.length-c,start:d}),h=m.exec(t);return u.sort((function(e,t){return e.fcut-t.fcut})).filter((function(e){return!(0===e.fcut&&0===e.rcut)})).map((function(t){return r(r({},t),{end:t.end%a,fcut:t.fcut%a,id:"".concat(e.name,"-").concat(e.rseq,"-").concat(t.fcut,"-").concat(t.direction>0?"fwd":"rev"),rcut:t.rcut%a,start:t.start%a})})).filter((function(e){return!e.enzyme.range||e.start>=e.enzyme.range.start&&e.end<=e.enzyme.range.end}))}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={aatii:{fcut:5,name:"AatII",rcut:1,rseq:"GACGTC"},abasi:{fcut:14,name:"AbaSI",rcut:12,rseq:"hmCNNNNNNNNNNN"},acc65i:{fcut:1,name:"Acc65I",rcut:5,rseq:"GGTACC"},acci:{fcut:2,name:"AccI",rcut:4,rseq:"GTMKAC"},acii:{fcut:1,name:"AciI",rcut:3,rseq:"CCGC"},acli:{fcut:2,name:"AclI",rcut:4,rseq:"AACGTT"},acui:{fcut:22,name:"AcuI",rcut:20,rseq:"CTGAAGNNNNNNNNNNNNNNNN"},afei:{fcut:3,name:"AfeI",rcut:3,rseq:"AGCGCT"},aflii:{fcut:1,name:"AflII",rcut:5,rseq:"CTTAAG"},afliii:{fcut:1,name:"AflIII",rcut:5,rseq:"ACRYGT"},agei:{fcut:1,name:"AgeI",rcut:5,rseq:"ACCGGT"},ahdi:{fcut:6,name:"AhdI",rcut:5,rseq:"GACNNNNNGTC"},alei:{fcut:5,name:"AleI",rcut:5,rseq:"CACNNNNGTG"},alui:{fcut:2,name:"AluI",rcut:2,rseq:"AGCT"},alwi:{fcut:9,name:"AlwI",rcut:10,rseq:"GGATCNNNNN"},alwni:{fcut:6,name:"AlwNI",rcut:3,rseq:"CAGNNNCTG"},apai:{fcut:5,name:"ApaI",rcut:1,rseq:"GGGCCC"},apali:{fcut:1,name:"ApaLI",rcut:5,rseq:"GTGCAC"},apeki:{fcut:1,name:"ApeKI",rcut:4,rseq:"GCWGC"},apoi:{fcut:1,name:"ApoI",rcut:5,rseq:"RAATTY"},asci:{fcut:2,name:"AscI",rcut:6,rseq:"GGCGCGCC"},asei:{fcut:2,name:"AseI",rcut:4,rseq:"ATTAAT"},asisi:{fcut:5,name:"AsiSI",rcut:3,rseq:"GCGATCGC"},avai:{fcut:1,name:"AvaI",rcut:5,rseq:"CYCGRG"},avaii:{fcut:1,name:"AvaII",rcut:4,rseq:"GGWCC"},avrii:{fcut:1,name:"AvrII",rcut:5,rseq:"CCTAGG"},baegi:{fcut:5,name:"BaeGI",rcut:1,rseq:"GKGCMC"},baei:{fcut:38,name:"BaeI",rcut:33,rseq:"NNNNNNNNNNNNNNNACNNNNGTAYCNNNNNNNNNNNN"},bamhi:{fcut:1,name:"BamHI",rcut:5,rseq:"GGATCC"},bani:{fcut:1,name:"BanI",rcut:5,rseq:"GGYRCC"},banii:{fcut:5,name:"BanII",rcut:1,rseq:"GRGCYC"},bbsi:{fcut:8,name:"BbsI",rcut:12,rseq:"GAAGACNNNNNN"},bbvci:{fcut:2,name:"BbvCI",rcut:5,rseq:"CCTCAGC"},bbvi:{fcut:13,name:"BbvI",rcut:17,rseq:"GCAGCNNNNNNNNNNNN"},bcci:{fcut:9,name:"BccI",rcut:10,rseq:"CCATCNNNNN"},bceai:{fcut:17,name:"BceAI",rcut:19,rseq:"ACGGCNNNNNNNNNNNNNN"},bcgi:{fcut:36,name:"BcgI",rcut:34,rseq:"NNNNNNNNNNNNCGANNNNNNTGCNNNNNNNNNNNN"},bcivi:{fcut:12,name:"BciVI",rcut:11,rseq:"GTATCCNNNNNN"},bcli:{fcut:1,name:"BclI",rcut:5,rseq:"TGATCA"},bcodi:{fcut:6,name:"BcoDI",rcut:10,rseq:"GTCTCNNNNN"},bfai:{fcut:1,name:"BfaI",rcut:3,rseq:"CTAG"},bfuai:{fcut:10,name:"BfuAI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bgli:{fcut:7,name:"BglI",rcut:4,rseq:"GCCNNNNNGGC"},bglii:{fcut:1,name:"BglII",rcut:5,rseq:"AGATCT"},blpi:{fcut:2,name:"BlpI",rcut:5,rseq:"GCTNAGC"},bmgbi:{fcut:3,name:"BmgBI",rcut:3,rseq:"CACGTC"},bmri:{fcut:11,name:"BmrI",rcut:10,rseq:"ACTGGGNNNNN"},bmti:{fcut:5,name:"BmtI",rcut:1,rseq:"GCTAGC"},bpmi:{fcut:22,name:"BpmI",rcut:20,rseq:"CTGGAGNNNNNNNNNNNNNNNN"},bpu10i:{fcut:2,name:"Bpu10I",rcut:5,rseq:"CCTNAGC"},bpuei:{fcut:22,name:"BpuEI",rcut:20,rseq:"CTTGAGNNNNNNNNNNNNNNNN"},bsaai:{fcut:3,name:"BsaAI",rcut:3,rseq:"YACGTR"},bsabi:{fcut:5,name:"BsaBI",rcut:5,rseq:"GATNNNNATC"},bsahi:{fcut:2,name:"BsaHI",rcut:4,rseq:"GRCGYC"},bsai:{fcut:7,name:"BsaI",rcut:11,rseq:"GGTCTCNNNNN"},bsaji:{fcut:1,name:"BsaJI",rcut:5,rseq:"CCNNGG"},bsawi:{fcut:1,name:"BsaWI",rcut:5,rseq:"WCCGGW"},bsaxi:{fcut:33,name:"BsaXI",rcut:30,rseq:"NNNNNNNNNNNNACNNNNNCTCCNNNNNNNNNN"},bseri:{fcut:16,name:"BseRI",rcut:14,rseq:"GAGGAGNNNNNNNNNN"},bseyi:{fcut:1,name:"BseYI",rcut:5,rseq:"CCCAGC"},bsgi:{fcut:22,name:"BsgI",rcut:20,rseq:"GTGCAGNNNNNNNNNNNNNNNN"},bsiei:{fcut:4,name:"BsiEI",rcut:2,rseq:"CGRYCG"},bsihkai:{fcut:5,name:"BsiHKAI",rcut:1,rseq:"GWGCWC"},bsiwi:{fcut:1,name:"BsiWI",rcut:5,rseq:"CGTACG"},bsli:{fcut:7,name:"BslI",rcut:4,rseq:"CCNNNNNNNGG"},bsmai:{fcut:6,name:"BsmAI",rcut:10,rseq:"GTCTCNNNNN"},bsmbi:{fcut:7,name:"BsmBI",rcut:11,rseq:"CGTCTCNNNNN"},bsmfi:{fcut:15,name:"BsmFI",rcut:19,rseq:"GGGACNNNNNNNNNNNNNN"},bsmi:{fcut:7,name:"BsmI",rcut:5,rseq:"GAATGCN"},bsobi:{fcut:1,name:"BsoBI",rcut:5,rseq:"CYCGRG"},bsp1286i:{fcut:5,name:"Bsp1286I",rcut:1,rseq:"GDGCHC"},bspcni:{fcut:14,name:"BspCNI",rcut:12,rseq:"CTCAGNNNNNNNNN"},bspdi:{fcut:2,name:"BspDI",rcut:4,rseq:"ATCGAT"},bspei:{fcut:1,name:"BspEI",rcut:5,rseq:"TCCGGA"},bsphi:{fcut:1,name:"BspHI",rcut:5,rseq:"TCATGA"},bspmi:{fcut:10,name:"BspMI",rcut:14,rseq:"ACCTGCNNNNNNNN"},bspqi:{fcut:8,name:"BspQI",rcut:11,rseq:"GCTCTTCNNNN"},bsrbi:{fcut:3,name:"BsrBI",rcut:3,rseq:"CCGCTC"},bsrdi:{fcut:8,name:"BsrDI",rcut:6,rseq:"GCAATGNN"},bsrfi:{fcut:1,name:"BsrFI",rcut:5,rseq:"RCCGGY"},bsrgi:{fcut:1,name:"BsrGI",rcut:5,rseq:"TGTACA"},bsri:{fcut:6,name:"BsrI",rcut:4,rseq:"ACTGGN"},bsshii:{fcut:1,name:"BssHII",rcut:5,rseq:"GCGCGC"},bsssi:{fcut:1,name:"BssSI",rcut:5,rseq:"CACGAG"},bstapi:{fcut:7,name:"BstAPI",rcut:4,rseq:"GCANNNNNTGC"},bstbi:{fcut:2,name:"BstBI",rcut:4,rseq:"TTCGAA"},bsteii:{fcut:1,name:"BstEII",rcut:6,rseq:"GGTNACC"},bstni:{fcut:2,name:"BstNI",rcut:3,rseq:"CCWGG"},bstui:{fcut:2,name:"BstUI",rcut:2,rseq:"CGCG"},bstxi:{fcut:8,name:"BstXI",rcut:4,rseq:"CCANNNNNNTGG"},bstyi:{fcut:1,name:"BstYI",rcut:5,rseq:"RGATCY"},bstz17i:{fcut:3,name:"BstZ17I",rcut:3,rseq:"GTATAC"},bsu36i:{fcut:2,name:"Bsu36I",rcut:5,rseq:"CCTNAGG"},btgi:{fcut:1,name:"BtgI",rcut:5,rseq:"CCRYGG"},btgzi:{fcut:16,name:"BtgZI",rcut:20,rseq:"GCGATGNNNNNNNNNNNNNN"},btsci:{fcut:7,name:"BtsCI",rcut:5,rseq:"GGATGNN"},btsi:{fcut:8,name:"BtsI",rcut:6,rseq:"GCAGTGNN"},btsimuti:{fcut:7,name:"BtsIMutI",rcut:5,rseq:"CAGTGNN"},cac8i:{fcut:3,name:"Cac8I",rcut:3,rseq:"GCNNGC"},clai:{fcut:2,name:"ClaI",rcut:4,rseq:"ATCGAT"},cspci:{fcut:37,name:"CspCI",rcut:35,rseq:"NNNNNNNNNNNNNCAANNNNNGTGGNNNNNNNNNNNN"},cviaii:{fcut:1,name:"CviAII",rcut:3,rseq:"CATG"},"cviki-1":{fcut:2,name:"CviKI-1",rcut:2,rseq:"RGCY"},cviqi:{fcut:1,name:"CviQI",rcut:3,rseq:"GTAC"},ddei:{fcut:1,name:"DdeI",rcut:4,rseq:"CTNAG"},dpni:{fcut:3,name:"DpnI",rcut:3,rseq:"GmATC"},dpnii:{fcut:0,name:"DpnII",rcut:4,rseq:"GATC"},drai:{fcut:3,name:"DraI",rcut:3,rseq:"TTTAAA"},draiii:{fcut:6,name:"DraIII",rcut:3,rseq:"CACNNNGTG"},drdi:{fcut:7,name:"DrdI",rcut:5,rseq:"GACNNNNNNGTC"},eaei:{fcut:1,name:"EaeI",rcut:5,rseq:"YGGCCR"},eagi:{fcut:1,name:"EagI",rcut:5,rseq:"CGGCCG"},eari:{fcut:7,name:"EarI",rcut:10,rseq:"CTCTTCNNNN"},ecii:{fcut:17,name:"EciI",rcut:15,rseq:"GGCGGANNNNNNNNNNN"},eco53ki:{fcut:3,name:"Eco53kI",rcut:3,rseq:"GAGCTC"},econi:{fcut:5,name:"EcoNI",rcut:6,rseq:"CCTNNNNNAGG"},ecoo109i:{fcut:2,name:"EcoO109I",rcut:5,rseq:"RGGNCCY"},ecori:{fcut:1,name:"EcoRI",rcut:5,rseq:"GAATTC"},ecorv:{fcut:3,name:"EcoRV",rcut:3,rseq:"GATATC"},esp3i:{fcut:7,name:"Esp3I",rcut:11,rseq:"CGTCTCNNNNN"},fati:{fcut:0,name:"FatI",rcut:4,rseq:"CATG"},faui:{fcut:9,name:"FauI",rcut:11,rseq:"CCCGCNNNNNN"},fnu4hi:{fcut:2,name:"Fnu4HI",rcut:3,rseq:"GCNGC"},foki:{fcut:14,name:"FokI",rcut:18,rseq:"GGATGNNNNNNNNNNNNN"},fsei:{fcut:6,name:"FseI",rcut:2,rseq:"GGCCGGCC"},fspei:{fcut:15,name:"FspEI",rcut:19,rseq:"CmCNNNNNNNNNNNNNNNN"},fspi:{fcut:3,name:"FspI",rcut:3,rseq:"TGCGCA"},haeii:{fcut:5,name:"HaeII",rcut:1,rseq:"RGCGCY"},haeiii:{fcut:2,name:"HaeIII",rcut:2,rseq:"GGCC"},hgai:{fcut:10,name:"HgaI",rcut:15,rseq:"GACGCNNNNNNNNNN"},hhai:{fcut:3,name:"HhaI",rcut:1,rseq:"GCGC"},hincii:{fcut:3,name:"HincII",rcut:3,rseq:"GTYRAC"},hindiii:{fcut:1,name:"HindIII",rcut:5,rseq:"AAGCTT"},hinfi:{fcut:1,name:"HinfI",rcut:4,rseq:"GANTC"},hinp1i:{fcut:1,name:"HinP1I",rcut:3,rseq:"GCGC"},hpai:{fcut:3,name:"HpaI",rcut:3,rseq:"GTTAAC"},hpaii:{fcut:1,name:"HpaII",rcut:3,rseq:"CCGG"},hphi:{fcut:13,name:"HphI",rcut:12,rseq:"GGTGANNNNNNNN"},hpy166ii:{fcut:3,name:"Hpy166II",rcut:3,rseq:"GTNNAC"},hpy188i:{fcut:3,name:"Hpy188I",rcut:2,rseq:"TCNGA"},hpy188iii:{fcut:2,name:"Hpy188III",rcut:4,rseq:"TCNNGA"},hpy99i:{fcut:5,name:"Hpy99I",rcut:0,rseq:"CGWCG"},hpyav:{fcut:11,name:"HpyAV",rcut:10,rseq:"CCTTCNNNNNN"},hpych4iii:{fcut:3,name:"HpyCH4III",rcut:2,rseq:"ACNGT"},hpych4iv:{fcut:1,name:"HpyCH4IV",rcut:3,rseq:"ACGT"},hpych4v:{fcut:2,name:"HpyCH4V",rcut:2,rseq:"TGCA"},"i-ceui":{fcut:18,name:"I-CeuI",rcut:14,rseq:"TAACTATAACGGTCCTAAGGTAGCGAA"},"i-scei":{fcut:9,name:"I-SceI",rcut:5,rseq:"TAGGGATAACAGGGTAAT"},kasi:{fcut:1,name:"KasI",rcut:5,rseq:"GGCGCC"},kpni:{fcut:5,name:"KpnI",rcut:1,rseq:"GGTACC"},lpnpi:{fcut:15,name:"LpnPI",rcut:19,rseq:"CmCDGNNNNNNNNNNNNNN"},mboi:{fcut:0,name:"MboI",rcut:4,rseq:"GATC"},mboii:{fcut:13,name:"MboII",rcut:12,rseq:"GAAGANNNNNNNN"},mfei:{fcut:1,name:"MfeI",rcut:5,rseq:"CAATTG"},mluci:{fcut:0,name:"MluCI",rcut:4,rseq:"AATT"},mlui:{fcut:1,name:"MluI",rcut:5,rseq:"ACGCGT"},mlyi:{fcut:10,name:"MlyI",rcut:10,rseq:"GAGTCNNNNN"},mmei:{fcut:26,name:"MmeI",rcut:24,rseq:"TCCRACNNNNNNNNNNNNNNNNNNNN"},mnli:{fcut:11,name:"MnlI",rcut:10,rseq:"CCTCNNNNNNN"},msci:{fcut:3,name:"MscI",rcut:3,rseq:"TGGCCA"},msei:{fcut:1,name:"MseI",rcut:3,rseq:"TTAA"},msli:{fcut:5,name:"MslI",rcut:5,rseq:"CAYNNNNRTG"},mspa1i:{fcut:3,name:"MspA1I",rcut:3,rseq:"CMGCKG"},mspi:{fcut:1,name:"MspI",rcut:3,rseq:"CCGG"},mspji:{fcut:14,name:"MspJI",rcut:18,rseq:"mCNNRNNNNNNNNNNNNN"},mwoi:{fcut:7,name:"MwoI",rcut:4,rseq:"GCNNNNNNNGC"},naei:{fcut:3,name:"NaeI",rcut:3,rseq:"GCCGGC"},nari:{fcut:2,name:"NarI",rcut:4,rseq:"GGCGCC"},ncii:{fcut:2,name:"NciI",rcut:3,rseq:"CCSGG"},ncoi:{fcut:1,name:"NcoI",rcut:5,rseq:"CCATGG"},ndei:{fcut:2,name:"NdeI",rcut:4,rseq:"CATATG"},ngomiv:{fcut:1,name:"NgoMIV",rcut:5,rseq:"GCCGGC"},nhei:{fcut:1,name:"NheI",rcut:5,rseq:"GCTAGC"},nlaiii:{fcut:4,name:"NlaIII",rcut:0,rseq:"CATG"},nlaiv:{fcut:3,name:"NlaIV",rcut:3,rseq:"GGNNCC"},nmeaiii:{fcut:26,name:"NmeAIII",rcut:25,rseq:"GCCGAGNNNNNNNNNNNNNNNNNNNN"},noti:{fcut:2,name:"NotI",rcut:6,rseq:"GCGGCCGC"},nrui:{fcut:3,name:"NruI",rcut:3,rseq:"TCGCGA"},nsii:{fcut:5,name:"NsiI",rcut:1,rseq:"ATGCAT"},nspi:{fcut:5,name:"NspI",rcut:1,rseq:"RCATGY"},paci:{fcut:5,name:"PacI",rcut:3,rseq:"TTAATTAA"},paer7i:{fcut:1,name:"PaeR7I",rcut:5,rseq:"CTCGAG"},pcii:{fcut:1,name:"PciI",rcut:5,rseq:"ACATGT"},pflfi:{fcut:4,name:"PflFI",rcut:5,rseq:"GACNNNGTC"},pflmi:{fcut:7,name:"PflMI",rcut:4,rseq:"CCANNNNNTGG"},"pi-pspi":{fcut:17,name:"PI-PspI",rcut:13,rseq:"TGGCAAACAGCTATTATGGGTATTATGGGT"},"pi-scei":{fcut:15,name:"PI-SceI",rcut:11,rseq:"ATCTATGTCGGGTGCGGAGAAAGAGGTAATGAAATGG"},plei:{fcut:9,name:"PleI",rcut:10,rseq:"GAGTCNNNNN"},pluti:{fcut:5,name:"PluTI",rcut:1,rseq:"GGCGCC"},pmei:{fcut:4,name:"PmeI",rcut:4,rseq:"GTTTAAAC"},pmli:{fcut:3,name:"PmlI",rcut:3,rseq:"CACGTG"},ppumi:{fcut:2,name:"PpuMI",rcut:5,rseq:"RGGWCCY"},pshai:{fcut:5,name:"PshAI",rcut:5,rseq:"GACNNNNGTC"},psii:{fcut:3,name:"PsiI",rcut:3,rseq:"TTATAA"},pspgi:{fcut:0,name:"PspGI",rcut:5,rseq:"CCWGG"},pspomi:{fcut:1,name:"PspOMI",rcut:5,rseq:"GGGCCC"},pspxi:{fcut:2,name:"PspXI",rcut:6,rseq:"VCTCGAGB"},psti:{fcut:5,name:"PstI",rcut:1,rseq:"CTGCAG"},pvui:{fcut:4,name:"PvuI",rcut:2,rseq:"CGATCG"},pvuii:{fcut:3,name:"PvuII",rcut:3,rseq:"CAGCTG"},rsai:{fcut:2,name:"RsaI",rcut:2,rseq:"GTAC"},rsrii:{fcut:2,name:"RsrII",rcut:5,rseq:"CGGWCCG"},saci:{fcut:5,name:"SacI",rcut:1,rseq:"GAGCTC"},sacii:{fcut:4,name:"SacII",rcut:2,rseq:"CCGCGG"},sali:{fcut:1,name:"SalI",rcut:5,rseq:"GTCGAC"},sapi:{fcut:8,name:"SapI",rcut:11,rseq:"GCTCTTCNNNN"},sau3ai:{fcut:0,name:"Sau3AI",rcut:4,rseq:"GATC"},sau96i:{fcut:1,name:"Sau96I",rcut:4,rseq:"GGNCC"},sbfi:{fcut:6,name:"SbfI",rcut:2,rseq:"CCTGCAGG"},scai:{fcut:3,name:"ScaI",rcut:3,rseq:"AGTACT"},scrfi:{fcut:2,name:"ScrFI",rcut:3,rseq:"CCNGG"},sexai:{fcut:1,name:"SexAI",rcut:6,rseq:"ACCWGGT"},sfani:{fcut:10,name:"SfaNI",rcut:14,rseq:"GCATCNNNNNNNNN"},sfci:{fcut:1,name:"SfcI",rcut:5,rseq:"CTRYAG"},sfii:{fcut:8,name:"SfiI",rcut:5,rseq:"GGCCNNNNNGGCC"},sfoi:{fcut:3,name:"SfoI",rcut:3,rseq:"GGCGCC"},sgrai:{fcut:2,name:"SgrAI",rcut:6,rseq:"CRCCGGYG"},smai:{fcut:3,name:"SmaI",rcut:3,rseq:"CCCGGG"},smli:{fcut:1,name:"SmlI",rcut:5,rseq:"CTYRAG"},snabi:{fcut:3,name:"SnaBI",rcut:3,rseq:"TACGTA"},spei:{fcut:1,name:"SpeI",rcut:5,rseq:"ACTAGT"},sphi:{fcut:5,name:"SphI",rcut:1,rseq:"GCATGC"},srfi:{fcut:4,name:"SrfI",rcut:4,rseq:"GCCCGGGC"},sspi:{fcut:3,name:"SspI",rcut:3,rseq:"AATATT"},stui:{fcut:3,name:"StuI",rcut:3,rseq:"AGGCCT"},styd4i:{fcut:0,name:"StyD4I",rcut:5,rseq:"CCNGG"},styi:{fcut:1,name:"StyI",rcut:5,rseq:"CCWWGG"},swai:{fcut:4,name:"SwaI",rcut:4,rseq:"ATTTAAAT"},taqi:{fcut:1,name:"TaqI",rcut:3,rseq:"TCGA"},tfii:{fcut:1,name:"TfiI",rcut:4,rseq:"GAWTC"},tsei:{fcut:1,name:"TseI",rcut:4,rseq:"GCWGC"},tsp45i:{fcut:0,name:"Tsp45I",rcut:5,rseq:"GTSAC"},tspmi:{fcut:1,name:"TspMI",rcut:5,rseq:"CCCGGG"},tspri:{fcut:9,name:"TspRI",rcut:0,rseq:"NNCASTGNN"},tth111i:{fcut:4,name:"Tth111I",rcut:5,rseq:"GACNNNGTC"},xbai:{fcut:1,name:"XbaI",rcut:5,rseq:"TCTAGA"},xcmi:{fcut:8,name:"XcmI",rcut:7,rseq:"CCANNNNNNNNNTGG"},xhoi:{fcut:1,name:"XhoI",rcut:5,rseq:"CTCGAG"},xmai:{fcut:1,name:"XmaI",rcut:5,rseq:"CCCGGG"},xmni:{fcut:5,name:"XmnI",rcut:5,rseq:"GAANNNNTTC"},zrai:{fcut:3,name:"ZraI",rcut:3,rseq:"GACGTC"}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRegex=void 0;var r=n(13);t.default=function(e,t,n,o){if(void 0===t&&(t=0),void 0===n&&(n=""),!(e&&e.length&&n&&n.length))return[];if(e.length-t<2)return[];var i=a(e,n,t,!0,o);if(["dna","rna"].includes(o)){var c=(0,r.complement)(n,o).compSeq,s=a((0,r.reverse)(e),c,t,!1,o);i.push.apply(i,s)}return i.length>4e3?(console.error("Search too broad: >4000 matches. Please narrow parameters."),[]):i.sort((function(e,t){return e.start-t.start}))};var a=function(e,n,r,a,i){if(r>0)return o(e,n,r,a,i);for(var c=n.length,s=(0,t.createRegex)(e,i),l=s.exec(n),u=[];l;){var f=l.index%c,h=(f+e.length)%c||c;u.push({direction:a?1:-1,end:h,id:"".concat(f,"-").concat(a?"fwd":"rev"),name:"",start:f}),l=s.exec(n)}return u},o=function(e,t,n,a,o){for(var i=(0,r.getAlphabet)(o),c=[],s=0;s<t.length-e.length;s+=1){for(var l=0,u=0;u<e.length;u+=1){var f=t[s+u].toLowerCase(),h=e[u].toLowerCase();if(r.nucleotides[h]?f!==h&&(l+=1):i[h]&&(i[h][f]||(l+=1)),l>n)break}if(l<=n){var d=(s+e.length)%t.length||t.length;c.push({direction:a?1:-1,end:d,id:"".concat(s,"-").concat(a?"fwd":"rev"),name:"",start:s})}}return c};t.createRegex=function(e,t){var n=(0,r.getAlphabet)(t),a=e.toLowerCase().split("").map((function(e){return n[e]?"(".concat(Object.keys(n[e]).join("|"),")"):e})).join("");return new RegExp(a.trim(),"gi")}},e=>{e.exports=n(4597)}],t={},r=function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(0);return r})(),e.exports=r()}}]);